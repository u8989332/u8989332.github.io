<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="GeekCodeParadise">
<meta property="og:url" content="http://example.com/page/10/index.html">
<meta property="og:site_name" content="GeekCodeParadise">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="LiJyu Gao">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/10/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>GeekCodeParadise</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">GeekCodeParadise</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/05/23/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98-professional-javascript-for-web-developers-%E7%AC%AC3%E7%AB%A0-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/23/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98-professional-javascript-for-web-developers-%E7%AC%AC3%E7%AB%A0-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/" class="post-title-link" itemprop="url">[讀書筆記] Professional JavaScript for Web Developers - 第3章 基本概念</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-23 23:11:00" itemprop="dateCreated datePublished" datetime="2020-05-23T23:11:00+08:00">2020-05-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98/" itemprop="url" rel="index"><span itemprop="name">讀書筆記</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-1-Syntax"><a href="#1-1-Syntax" class="headerlink" title="1.1 Syntax"></a>1.1 Syntax</h2><h3 id="1-1-1-Case-Sensitivity"><a href="#1-1-1-Case-Sensitivity" class="headerlink" title="1.1.1 Case-Sensitivity"></a>1.1.1 Case-Sensitivity</h3><h3 id="1-1-2-Identifiers"><a href="#1-1-2-Identifiers" class="headerlink" title="1.1.2 Identifiers"></a>1.1.2 Identifiers</h3><ul>
<li>變數、函式、屬性、函式參數的名稱, 都是identifier</li>
<li>命名規則: 第1個字元只能是字母、底線 _ 或 錢字符號 $ ; 第二個字元以後可以是字母、底線 _ 、 錢字符號 $ 或 數字</li>
<li>字母可以是擴展的ASCII或Unicode特殊的字母Â、 â之類的，但不推薦</li>
<li>採用camelCaseNaming</li>
<li>不能把keywords, reserved word當identifier</li>
</ul>
<h3 id="1-1-3-Comments"><a href="#1-1-3-Comments" class="headerlink" title="1.1.3 Comments"></a>1.1.3 Comments</h3><h2 id=""><a href="#" class="headerlink" title=""></a></h2><ul>
<li>單行註解  &#x2F;&#x2F; comment</li>
<li>多行註解</li>
</ul>
<p> </p>
<p>     &#x2F;*</p>
<p>      * comments</p>
<p>     *&#x2F;</p>
<h3 id="1-1-4-Strict-Mode"><a href="#1-1-4-Strict-Mode" class="headerlink" title="1.1.4 Strict Mode"></a>1.1.4 Strict Mode</h3><ul>
<li><p>ES5導入strict mode, 以不同的方式解析、執行JS, 且也對ES3的部分寫法拋出異常</p>
</li>
<li><p>使用方式, 在腳本最上方寫</p>
</li>
</ul>
<p>  </p>
<p>       “use strict”;</p>
<ul>
<li>也能在function內寫 “use strict”; , 影響的只會限於function內部</li>
</ul>
<h3 id="1-1-5-Statements"><a href="#1-1-5-Statements" class="headerlink" title="1.1.5 Statements"></a>1.1.5 Statements</h3><ul>
<li>statement都以分號 ; 結尾 , 可以不加;結尾, 但不推薦</li>
<li>有用分號;結尾對於JS的解析性能較好</li>
<li>有用if , for的code block, 建議都用 {} 包住, 不要省略</li>
</ul>
<h2 id="1-2-Keywords-and-Reserved-words"><a href="#1-2-Keywords-and-Reserved-words" class="headerlink" title="1.2 Keywords and Reserved words"></a>1.2 Keywords and Reserved words</h2><ul>
<li><p>keywords有控制流程、特殊運算等功能, 不能拿來當identitifer命名</p>
</li>
<li><p>ES6的keywords<br>break do in typeof case else instanceof var catch export new void class extends return while const finally super with continue for switch yield debugger function this default if throw delete import try    </p>
</li>
<li><p>future reserved words不能被設為identifier, 但現行沒提供功能, 未來有可能會使用, 於是先預訂這些詞.</p>
</li>
<li><p>總是reserved : enum</p>
</li>
<li><p>在strict mode是reserved:  implements  interface  let  package  private  protected  public  static</p>
</li>
<li><p>在module模式的reserved: await</p>
</li>
</ul>
<h2 id="1-3-Variables"><a href="#1-3-Variables" class="headerlink" title="1.3 Variables"></a>1.3 Variables</h2><ul>
<li>ES5以前只有var用來宣告變數</li>
<li>ES6訂定const 和 let</li>
</ul>
<p> </p>
<h3 id="1-3-1-var-keyword"><a href="#1-3-1-var-keyword" class="headerlink" title="1.3.1 var keyword"></a>1.3.1 var keyword</h3><ul>
<li>var的變數能賦予任何資料型別的值, 且能用其他資料型別的值覆蓋, 不建議這麼做.</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var msg = 1; // 值是數字1msg = &quot;5566&quot;;  // 值變成字串&quot;5566&quot;, 但不建議這麼做                    </span><br></pre></td></tr></table></figure>

<ul>
<li>只有宣告但沒賦值, 它的值會是undefined</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var msg; // undefined</span><br></pre></td></tr></table></figure>

<h4 id="1-3-1-1-var-Declaration-Scope"><a href="#1-3-1-1-var-Declaration-Scope" class="headerlink" title="1.3.1.1 var Declaration Scope"></a>1.3.1.1 var Declaration Scope</h4><ul>
<li>var是function scope</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function sayHi() &#123;     var msg = 1;  &#125;sayHi(); console.log(msg); // 會有error</span><br></pre></td></tr></table></figure>

<ul>
<li>可以忽略var關鍵字, 變成global variable, 但不建議這麼做</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function sayHi() &#123;     msg = 1;  &#125;sayHi(); console.log(msg); // 輸出1, 之後其他都能存取msg變數</span><br></pre></td></tr></table></figure>

<ul>
<li>var可一次宣告多的變數, 用逗點 , 串接</li>
</ul>
<h4 id="1-3-1-2-var-Declaration-Hoisting"><a href="#1-3-1-2-var-Declaration-Hoisting" class="headerlink" title="1.3.1.2 var Declaration Hoisting"></a>1.3.1.2 var Declaration Hoisting</h4><ul>
<li>var在”宣告”的時候會發生hoisting(懸吊), 將var的宣告拉到scope的最上方</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function sayHi() &#123;     console.log(msg);    var msg = &quot;hi&quot;;&#125;sayHi(); // 輸出undefined/* JS會將上方寫法轉為等同功能的下方 */function sayHi() &#123;    var msg;    console.log(msg);    msg = &quot;hi&quot;;&#125;sayHi(); // 輸出undefined</span><br></pre></td></tr></table></figure>

<ul>
<li>var宣告同一種變數名稱指定不同的值, 也是一樣hoisting</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function sayHi() &#123;    var msg = &quot;123&quot;;   var msg = &quot;456&quot;;   var msg = &quot;789&quot;;   console.log(msg);&#125;sayHi(); // 輸出789</span><br></pre></td></tr></table></figure>

<h3 id="1-3-2-let-Declarations"><a href="#1-3-2-let-Declarations" class="headerlink" title="1.3.2 let Declarations"></a>1.3.2 let Declarations</h3><ul>
<li>let和var很像, 但主要差異在於let是block scope</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if (true)&#123;   var msg = &#x27;hello&#x27;;   console.log(msg); // 輸出hello&#125;console.log(msg); //輸出helloif (true)&#123;   let height = 100;   console.log(height); // 輸出100&#125;console.log(height); //產生錯誤: Uncaught ReferenceError: height is not defined</span><br></pre></td></tr></table></figure>

<ul>
<li>let無法重複宣告, 也無法蓋掉var的宣告</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let x;let x; //產生錯誤: Uncaught SyntaxError: Identifier &#x27;x&#x27; has already been declaredvar y;let y; //產生錯誤: Uncaught SyntaxError: Identifier &#x27;y&#x27; has already been declared</span><br></pre></td></tr></table></figure>

<h4 id="1-3-2-1-Temporal-Dead-Zone"><a href="#1-3-2-1-Temporal-Dead-Zone" class="headerlink" title="1.3.2.1 Temporal Dead Zone"></a>1.3.2.1 Temporal Dead Zone</h4><ul>
<li>let沒有hoisting的特性, 如果學var會產生錯誤 ReferenceError: ‘xxx’ is not defined</li>
</ul>
<p>    </p>
<h4 id="1-3-2-2-Global-Declarations"><a href="#1-3-2-2-Global-Declarations" class="headerlink" title="1.3.2.2 Global Declarations"></a>1.3.2.2 Global Declarations</h4><ul>
<li>let的變數不會到global context, 比如不會附加到window物件</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var x = &#x27;1&#x27;;console.log(window.x); // 輸出1let y = &#x27;2&#x27;;console.log(window.y); // 輸出undefined</span><br></pre></td></tr></table></figure>

<h4 id="1-3-2-3-Conditional-Declaration"><a href="#1-3-2-3-Conditional-Declaration" class="headerlink" title="1.3.2.3 Conditional Declaration"></a>1.3.2.3 Conditional Declaration</h4><h3 id="-1"><a href="#-1" class="headerlink" title=""></a></h3><ul>
<li>用try&#x2F;catch或typeof等判斷變數是否有被宣告, 在block code用let仍只是block scope</li>
<li>建議都別用let在conditional declaration</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if (typeof msg !== &#x27;undefined&#x27;) &#123;    let msg; // 只是block scope的變數&#125;msg = &#x27;hello&#x27;; // msg變成global variable</span><br></pre></td></tr></table></figure>

<h4 id="1-3-2-4-let-declaration-in-for-loops"><a href="#1-3-2-4-let-declaration-in-for-loops" class="headerlink" title="1.3.2.4 let declaration in for loops"></a>1.3.2.4 let declaration in for loops</h4><ul>
<li>用var當for迴圈的宣告索引, for外面仍可使用那個索引</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for (var i = 0;i &lt; 10;++i) &#123;   // do anything&#125;console.log(i); // 輸出10</span><br></pre></td></tr></table></figure>

<ul>
<li>用let當for迴圈的宣告索引, for外面不能存取那個索引</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for (let i = 0;i &lt; 10;++i) &#123;   // do anything&#125;console.log(i); // 產生錯誤 Uncaught ReferenceError: i is not defined</span><br></pre></td></tr></table></figure>

<ul>
<li>在for迴圈用setTimeout對var索引做輸出時, 因為var都是同一個物件, 所以setTimeout後來的執行都是最後更新的索引值</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for (var i = 0;i &lt; 10;++i) &#123;   setTimeout(() =&gt; console.log(i), 0);&#125;// 輸出 10,10,10,10,10,10,10,10,10,10</span><br></pre></td></tr></table></figure>

<ul>
<li>在for迴圈用setTimeout對let索引做輸出時, let在每次的迴圈都產生新的索引物件, 所以setTimeout執行都存取當下的索引物件</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for (let i = 0;i &lt; 10;++i) &#123;   setTimeout(() =&gt; console.log(i), 0);&#125;// 輸出 0, 1, 2, 3, 4, 5, 6, 7, 8, 9</span><br></pre></td></tr></table></figure>

<h3 id="1-3-3-const-Declarations"><a href="#1-3-3-const-Declarations" class="headerlink" title="1.3.3 const Declarations"></a>1.3.3 const Declarations</h3><ul>
<li>用const宣告和let大部分功能一樣, 但必須對const的變數賦值, 且它的值就不能再改變</li>
<li>不能用const在for迴圈的改變索引值，但可以用在一開始的賦值</li>
<li>const用在object, 是可以改裡面的key&#x2F;value.</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const x = 5;x = 100; // 產生錯誤 Uncaught TypeError: Assignment to constant variable.const y = &#123;&#125;; // 宣告objecty.name = &quot;John&quot;;console.log(y.name); // 輸出Johnfor (const k = 0; k &lt; 10;++k)&#123;    console.log(k); // 在++k這一段會產生錯誤 Uncaught TypeError: Assignment to constant variable.&#125;let i = 0;for (const j = 100; i &lt; 5;++i) &#123;    console.log(j);&#125;// j 只在初始化賦值, 沒有用++j做改值, 是合法的.// 輸出 100, 100, 100. 100. 100for (const key in &#123;x:5, y:6&#125;)&#123;    console.log(key);&#125;// 輸出x, yfor (const value of [7,8,9]) &#123;    console.log(value);&#125;// 輸出 7, 8, 9</span><br></pre></td></tr></table></figure>

<h3 id="1-3-3-宣告風格和最佳實踐"><a href="#1-3-3-宣告風格和最佳實踐" class="headerlink" title="1.3.3 宣告風格和最佳實踐"></a>1.3.3 宣告風格和最佳實踐</h3><ul>
<li>別用var, 以免scope等問題</li>
<li>使用const優於let, 除非是必須改值的功能, 否則用const可免於被其他功能改值而產生錯誤</li>
</ul>
<h2 id="1-4-Data-Types"><a href="#1-4-Data-Types" class="headerlink" title="1.4 Data Types"></a>1.4 Data Types</h2><ul>
<li>6種基本的data type(稱為 Primitive types), 另1種是複雜的data type : object, 共7種.</li>
<li>object是無順序的key&#x2F;value集合, 裡面的值可以包含上述的7種data type</li>
<li>6種primitive types, 其中Symbol是ES6才加入</li>
</ul>
<ol>
<li>Undefined</li>
<li>Null</li>
<li>Boolean</li>
<li>Number</li>
<li>String</li>
<li>Symbol</li>
</ol>
<h3 id="1-4-1-typeof-operator"><a href="#1-4-1-typeof-operator" class="headerlink" title="1.4.1 typeof operator"></a>1.4.1 typeof operator</h3><ul>
<li>用來檢測某變數的data type</li>
<li>用typeof可能的值</li>
</ul>
<ol>
<li><p>“undefined”</p>
</li>
<li><p>“boolean”</p>
</li>
<li><p>“string”</p>
</li>
<li><p>“number”</p>
</li>
<li><p>“object”</p>
</li>
<li><p>“function”</p>
</li>
<li><p>“symbol”</p>
</li>
</ol>
<ul>
<li>typeof null , 會得到”object”, 因為null是空object的reference</li>
</ul>
<h3 id="1-4-2-Undefined-Type"><a href="#1-4-2-Undefined-Type" class="headerlink" title="1.4.2 Undefined Type"></a>1.4.2 Undefined Type</h3><ul>
<li><p>Undefined type只有一個值, 就是undefined.</p>
</li>
<li><p>變數被var&#x2F;let宣告但沒初始化, 則它的預設值為undefined, 不會是null</p>
</li>
<li><p>當變數沒被宣告, 用console.log等函式會找不到變數而產生錯誤; 但用typeof 會得到 “undefined”</p>
</li>
<li><p>以結果來說, 被宣告而沒初始化 和 沒有宣告, 都是無法操作的東西, 所以typeof得到”undefined”是合理的</p>
</li>
<li><p>建議被宣告的變數都要初始化, 別讓typeof判斷undefined而無法知道它是沒被宣告還是沒被初始化</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let msg;console.log(msg); // 輸出 undefinedconsole.log(index); // 產生錯誤 Uncaught ReferenceError: index is not definedtypeof msg; // 輸出 &quot;undefined&quot;typeof index; // 輸出 &quot;undefined&quot;</span><br></pre></td></tr></table></figure>

<h3 id="1-4-3-Null-Type"><a href="#1-4-3-Null-Type" class="headerlink" title="1.4.3 Null Type"></a>1.4.3 Null Type</h3><ul>
<li><p>Null type只有一個值, 就是null.</p>
</li>
<li><p>typeof null的值為 “object”</p>
</li>
<li><p>用null初始化變數, 可用來區分undefined</p>
</li>
<li><p>undefined是null的衍生物, 用&#x3D;&#x3D;比對可得到true</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(undefined == null); // 輸出trueconsole.log(undefined === null); // 輸出false</span><br></pre></td></tr></table></figure>

<h3 id="1-4-4-Boolean-Type"><a href="#1-4-4-Boolean-Type" class="headerlink" title="1.4.4 Boolean Type"></a>1.4.4 Boolean Type</h3><ul>
<li>Boolean只有2種值: true 和 false</li>
<li>true 不等於 1 , false 不等於 0</li>
<li>可以用 Boolean()函式將值轉換成boolean, 其轉換對照如下</li>
</ul>
<p> Data type </p>
<p>哪些值轉換成true </p>
<p>哪些值轉換成false </p>
<p> Boolean</p>
<p> true</p>
<p> false </p>
<p> String</p>
<p> 任何非空字串 </p>
<p> 空字串 “”</p>
<p> Number</p>
<p> 任何非0(也包含無限大)</p>
<p> 0 和 NaN </p>
<p> Object</p>
<p> 任何物件</p>
<p> null </p>
<p> Undefined </p>
<p> 沒有值可為true </p>
<p> undefined</p>
<ul>
<li>像是if等控制條件的()的裡面判斷, 自動用Boolean()的轉換</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let x = &#x27;hello&#x27;;     if(x)&#123;        console.log(x); // 這行會執行, 輸出 hello     &#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-4-5-Number-Type"><a href="#1-4-5-Number-Type" class="headerlink" title="1.4.5 Number Type"></a>1.4.5 Number Type</h3><ul>
<li>包含整數和浮點數(雙精度)</li>
<li>一般整數是10進位, 也能寫成8進位(用0開頭)、16進位(用0x或0X開頭)</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let intNum = 5566;           let octalNum1 = 050; // 等於10進位的40     let octalNum2 = 059; // 不符合8進位, 所以會是10進位的59     let octalNum3 = 09; // 不符合8進位, 所以會是10進位的9          let hexNum1 = 0xB; // 等於10進位的11     let hexNum2 = 0X1C; // 等於10進位的28</span><br></pre></td></tr></table></figure>

<h4 id="1-4-5-1-Floating-Point-Values"><a href="#1-4-5-1-Floating-Point-Values" class="headerlink" title="1.4.5.1 Floating-Point Values"></a>1.4.5.1 Floating-Point Values</h4><ul>
<li><p>數字後方有一個小數點 . , 後面再串非0的數字, 則會是浮點數</p>
</li>
<li><p>只有小數點後方再接非0數字, 也是浮點數, 不建議這樣表示</p>
</li>
<li><p>數字後方有一個小數點 . , 後面再串空的或全都是0, 則會是整數</p>
</li>
<li><p>可以用 e 科學符號</p>
</li>
<li><p>浮點數精準度最高到17位小數</p>
</li>
<li><p>經典浮點數精準度問題: 0.1 + 0.2 &#x3D; 0.30000000000000004    </p>
</li>
<li><p>建議有些判斷不要用在浮點數</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let floatNum1 = 1.2; // 浮點數 1.2     let floatNum2 = 0.2; // 浮點數 0.2     let floatNum3 = .2; // 浮點數 0.2          let floatNum4 = 6.; // 等於整數的 6     let floatNum5 = 7.0; // 等於整數的 7     let floatNum6 = 1.234e3; // 等於整數 1234     let floatNum7 = 1.234e-3; // 等於浮點數 0.001234     let sums = 0.1 + 0.2; // sums 等於 0.30000000000000004     let sums2 = 0.1 + 0.7; // sums2 等於 0.7999999999999999</span><br></pre></td></tr></table></figure>

<h4 id="1-4-5-2-Range-Of-Values"><a href="#1-4-5-2-Range-Of-Values" class="headerlink" title="1.4.5.2 Range Of Values"></a>1.4.5.2 Range Of Values</h4><ul>
<li>在正數當中, JS能表示的最大值是Number.MAX_VALUE &#x3D; 1.7976931348623157e+308 ; 最小值是 Number.MIN_VALUE &#x3D; 5e-324</li>
<li>如果數值計算過程超過JS的數值範圍, 將變成特殊值 Infinity, 如果是負數為 -Infinity</li>
<li>任何Infinity無法再做計算</li>
<li>可以用isFinite()檢測數字是否為Infinity</li>
<li>可以用Number.NEGATIVE_INFINITY和Number.POSITIVE_INFINITY取得負和正的Infinity值</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(isFinite(5566)) // 輸出 true     console.log(isFinite(Number.MAX_VALUE + Number.MAX_VALUE)); // 輸出 false</span><br></pre></td></tr></table></figure>

<h4 id="1-4-5-3-NaN"><a href="#1-4-5-3-NaN" class="headerlink" title="1.4.5.3 NaN"></a>1.4.5.3 NaN</h4><ul>
<li><p>意思是Not a number</p>
</li>
<li><p>其他程式語言是數字計算的結果無法正當回傳則是拋exception, 而JS是回傳NaN</p>
</li>
<li><p>NaN任何的操作都是NaN, 做任何比對也是NaN(包括自己)</p>
</li>
<li><p>只能用isNaN()函式判斷是否為NaN</p>
</li>
<li><p>isNaN()會將參數嘗試轉換, 是否能變成數字而再判斷.</p>
</li>
<li><p>isNaN()也能用在object, 會先對object的valueOf判斷能否使用, 不能的話再用toString()</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(isNaN(NaN == NaN)); // 輸出 false     console.log(isNaN(NaN)); // 輸出 true     console.log(isNaN(5566)); // 輸出 false     console.log(isNaN(&quot;7788&quot;)); // 轉成數字 7788, 輸出 false     console.log(isNaN(&quot;orange&quot;)); // 無法轉成數字, 輸出 true     console.log(isNaN(true)); // 轉成數字 1, 輸出 false</span><br></pre></td></tr></table></figure>

<h4 id="1-4-5-3-Number-Conversions"><a href="#1-4-5-3-Number-Conversions" class="headerlink" title="1.4.5.3 Number Conversions"></a>1.4.5.3 Number Conversions</h4><ul>
<li>有3種轉換成數字的函式: Number(), parseInt(), parseFloat()</li>
<li>Number()可用在任何資料型別, 而parseInt和parseFloat只能用在字串</li>
<li>Number()判斷邏輯複雜:</li>
</ul>
<ol>
<li><p>如果是boolean, true&#x2F;false分別轉換成1和0</p>
</li>
<li><p>如果是數字, 回傳一樣的數字</p>
</li>
<li><p>如果是null, 轉換成0</p>
</li>
<li><p>如果是undefined, 轉換成NaN</p>
</li>
<li><p>如果是字串, 又有更細的判斷</p>
</li>
</ol>
<p>      (1) 字串裡只有整數, 且會移除leading zero, 則轉換成整數</p>
<p>      (2) 字串裡只有浮點數, 且會移除leading zero, 則轉換成浮點數</p>
<p>      (3) 字串裡只有整數且前面帶有0xf開頭, 則轉換成10進位的整數</p>
<p>      (4) 空字串則轉換成0</p>
<p>      (5) 非前4項的字串, 則是NaN</p>
<p>   6. 如果是object, 先確認valueOf()的值依前面5項的判斷. 如果結果是NaN則再用toString()並套用字串的判斷.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(Number(true)); // 輸出 1     console.log(Number(false)); // 輸出 0     console.log(Number(5566)); // 輸出 5566     console.log(Number(12.345)); // 輸出 12.345     console.log(Number(null)); // 輸出 0     console.log(Number(undefined)); // 輸出 NaN     console.log(Number(&quot;Taiwan&quot;)); // 輸出 NaN     console.log(Number(&quot;true&quot;)); // 輸出 NaN     console.log(Number(&quot;987&quot;)); // 輸出 987     console.log(Number(&quot;000666&quot;)); // 輸出 666     console.log(Number(&quot;0.14&quot;)); // 輸出 0.14     console.log(Number(&quot;00001.88&quot;)); // 輸出 1.88     console.log(Number(&quot;5.0000&quot;)); // 輸出 5     console.log(Number(&quot;&quot;)); // 輸出 0</span><br></pre></td></tr></table></figure>

<ul>
<li>parseInt()在轉換整數時較常用</li>
<li>parseInt()從前面字元開始會確認有無數字字元, 如果一開始為非數字, 則輸出NaN;否則一開始遇到數字字元, 會直到結尾或非數字字元</li>
<li>parseInt()支援0x開頭的16進位</li>
<li>parseInt()在現代的JS, 遇到0開頭的8進位字串, 會解析成10進位</li>
<li>建議用parseInt()轉換別的進位時, 要指定第2個參數, 代表N進位 </li>
<li>即使是要轉10進位, 也建議用parseInt(num, 10)明確指定轉成10</li>
<li>parseInt()遇到空字串回傳NaN</li>
<li></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(parseInt(&quot;&quot;)); // 輸出 NaN     console.log(parseInt(&quot;0000x22&quot;)); // 輸出 0     console.log(parseInt(&quot;017&quot;)); // 現代JS會解析成10進位的17, 而不是8進位轉10進位的15     console.log(parseInt(&quot;0x16&quot;)); // 16進位表示, 輸出 22     console.log(parseInt(&quot;00000011&quot;)); // 輸出 11     console.log(parseInt(&quot;5566&quot;)); // 輸出 5566     console.log(parseInt(&quot;tomato1234&quot;)); // 輸出 NaN     console.log(parseInt(&quot;789banana&quot;)); // 輸出 789     console.log(parseInt(&quot;god654yo&quot;)); // 輸出 NaN     console.log(parseInt(&quot;017&quot;, 8)); // 輸出 15     console.log(parseInt(&quot;88&quot;, 8)); // 不合理的8進位表示, 輸出 NaN     console.log(parseInt(&quot;AA&quot;, 16)); // 輸出 170     console.log(parseInt(&quot;0x1A&quot;, 16)); // 輸出 26       </span><br></pre></td></tr></table></figure>

<ul>
<li>parseFloat()在轉換浮點數時較常用</li>
<li>parseFloat()只能解析10進位的表示, 遇到0x之類的無效, 而開頭有leading zero都會被移除</li>
<li>parseFloat()從前面字元開始會確認有無數字字元或小數點, 如果一開始為非數字且不是小數點, 則輸出NaN;有遇到小數點時, 將判斷是否為浮點數, 若遇到有第2個小數點, 第2個小數點以後都忽略</li>
<li>parseFloat()遇到空字串回傳NaN</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(parseFloat(&quot;&quot;)); // 輸出 NaN     console.log(parseFloat(&quot;0000x22&quot;)); // 輸出 0     console.log(parseFloat(&quot;017&quot;)); // 輸出 17     console.log(parseFloat(&quot;16.1&quot;)); // 輸出 16.1     console.log(parseFloat(&quot;16.0&quot;)); // 輸出 16     console.log(parseFloat(&quot;16.9.9&quot;)); // 輸出 16.9     console.log(parseFloat(&quot;AA&quot;)); // 輸出 NaN     console.log(parseFloat(&quot;1234abcd&quot;)); // 輸出 1234     console.log(parseFloat(&quot;abcd1234&quot;)); // 輸出 NaN       </span><br></pre></td></tr></table></figure>

<h3 id="1-4-6-String-Type"><a href="#1-4-6-String-Type" class="headerlink" title="1.4.6 String Type"></a>1.4.6 String Type</h3><ul>
<li>字串由0或多個16-bit Unicode字元組成</li>
<li>可以用雙引號 “  或 單引號 ‘ 或 重音符 ` 括起來表示字串</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(&#x27;hello&#x27;); // 輸出 &quot;hello&quot;     console.log(&quot;world&quot;); // 輸出 &quot;world&quot;     console.log(`hey guy`); // 輸出 &quot;hey guy&quot;       </span><br></pre></td></tr></table></figure>

<h4 id="1-4-6-1-Character-Literals"><a href="#1-4-6-1-Character-Literals" class="headerlink" title="1.4.6.1 Character Literals"></a>1.4.6.1 Character Literals</h4><ul>
<li>字串裡的特殊符號, 比如跳行 n ,  t Tab , xnn 16進位代表一個字元 n是0<del>F組成, unnnn 表示Unicode的字元 n也是0</del>F組成. </li>
<li>可以用.length屬性得到字串長度</li>
<li>如果有用特殊符號, 它的長度是被轉譯後的長度</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(&#x27;Hi man&#x27;.length); // 輸出 6     console.log(&#x27;u0045&#x27;.length); // 輸出 1     console.log(&quot;x41&quot;.length); // 輸出 1       </span><br></pre></td></tr></table></figure>

<h4 id="1-4-6-2-The-Nature-of-Strings"><a href="#1-4-6-2-The-Nature-of-Strings" class="headerlink" title="1.4.6.2 The Nature of Strings"></a>1.4.6.2 The Nature of Strings</h4><ul>
<li>字串是不可變的(Immutable), 也就是建立字串後就不可再改變</li>
<li>如果要改變某字串變數的值, 都是先銷毀舊的字串值再覆蓋新的.</li>
</ul>
<h4 id="1-4-6-3-Convert-to-a-String"><a href="#1-4-6-3-Convert-to-a-String" class="headerlink" title="1.4.6.3 Convert to a String"></a>1.4.6.3 Convert to a String</h4><h2 id="-2"><a href="#-2" class="headerlink" title=""></a></h2><ul>
<li>可使用toString()轉成字串, 字串會和值本身的意思一樣</li>
<li>null&#x2F;undefined沒有toString()</li>
<li>如果數字用toString(), 可以代參數, 轉成想要的進位數</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let x = 16;     console.log(x.toString()); // 輸出 &quot;16&quot;     console.log(x.toString(2)); // 輸出 &quot;10000&quot;     console.log(x.toString(8)); // 輸出 &quot;20&quot;     console.log(x.toString(16)); // 輸出 &quot;10&quot;     </span><br></pre></td></tr></table></figure>

<h2 id="-3"><a href="#-3" class="headerlink" title=""></a></h2><ul>
<li>另外轉成字串的函式為 String(), 如果值本身可以用toString(), 則用toString()的結果, 否則像是null&#x2F;undefined, 則輸出 “null” 和 “undefined”</li>
<li>快速轉字串的寫法, 串接空字串 “”:  myVariable + “”</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(String(true)); // 輸出 &quot;true&quot;     console.log(String(null)); // 輸出 &quot;null&quot;     console.log(String(undefined)); // 輸出 &quot;undefined&quot;     console.log(undefined + &quot;&quot;); // 輸出 &quot;undefined&quot;     </span><br></pre></td></tr></table></figure>

<h4 id="1-4-6-4-Template-Literals"><a href="#1-4-6-4-Template-Literals" class="headerlink" title="1.4.6.4 Template Literals"></a>1.4.6.4 Template Literals</h4><ul>
<li>ES6使用樣板字串, 可以不用自己寫跳行符號而達到跳行</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let msg = `     hi     this     is     a     book!     `;     </span><br></pre></td></tr></table></figure>

<h4 id="1-4-6-5-Interpolation"><a href="#1-4-6-5-Interpolation" class="headerlink" title="1.4.6.5 Interpolation"></a>1.4.6.5 Interpolation</h4><h2 id="-4"><a href="#-4" class="headerlink" title=""></a></h2><ul>
<li>在重音符 ` 括的字串裡用${ expression }, 可將expression轉成字串</li>
</ul>
<p> </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let num1 = 100;     let num2 = 200;     let sum1 = num1 + &#x27; * &#x27; + num2 + &#x27; = &#x27; + (num1 * num2);     // 等同用$&#123;&#125;的寫法     let sum2 = `$&#123; num1 &#125; * $&#123; num2 &#125; = $&#123; num1 * num2 &#125;`;     console.log(sum1 == sum2); // 輸出 true     </span><br></pre></td></tr></table></figure>

<h4 id="1-4-6-6-Template-Literal-Tag-Function"><a href="#1-4-6-6-Template-Literal-Tag-Function" class="headerlink" title="1.4.6.6 Template Literal Tag Function"></a>1.4.6.6 Template Literal Tag Function</h4><ul>
<li>在template literal, 可以把整個字串傳進function做拆分, 區分沒有${}符號的字串陣列和每個${}裡的expression</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let name = &#x27;John&#x27;;     let age = 18;     let height = 180;     function tagFunction(str, exp1, exp2, exp3)&#123;         console.log(str);         console.log(exp1);         console.log(exp2);         console.log(exp3);                  return &#x27;spliting completed&#x27;;     &#125;     let result = tagFunction`My name is $&#123; name &#125;, the age is $&#123; age &#125; and the height is $&#123; height &#125;.`;     // 分別輸出     // [&quot;My name is &quot;, &quot;, the age is &quot;, &quot; and the height is &quot;, &quot;.&quot;]     // John     // 18     // 180     console.log(result); // 輸出 &#x27;spliting completed&#x27;          /*       也能支援 spread operator     */     function tagFunction2(str, ...exps)&#123;         console.log(str);         for(const exp of exps)&#123;            console.log(exp);         &#125;                  return &#x27;spliting completed&#x27;;     &#125;          </span><br></pre></td></tr></table></figure>

<h4 id="1-4-6-7-Raw-Strings"><a href="#1-4-6-7-Raw-Strings" class="headerlink" title="1.4.6.7 Raw Strings"></a>1.4.6.7 Raw Strings</h4><ul>
<li>可以用 String.raw tag function, 將Template literals輸出在內部的原始符號, 比如有n等, 輸出的字串也會有’n’</li>
<li>用tag function切過的字串陣列, 有個raw屬性, 也是String.raw的結果</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(`$&#123; 1 + 2 &#125; and n and u0041`);      // 輸出     // 3 and      //  and A          console.log(String.raw`$&#123; 1 + 2 &#125; and n and u0041`);     // 輸出     // 3 and n and u0041          function tagFunction(str, ...exps)&#123;         for(const rawStr of str.raw)&#123;            console.log(rawStr);         &#125;     &#125;          tagFunction`Hi, $&#123;1&#125; today is n $&#123;2&#125; u0048u004Fu0054.`;     // 分別輸出     // Hi,      //  today is n      //  u0048u004Fu0054.</span><br></pre></td></tr></table></figure>

<h3 id="1-4-7-Symbol-Type"><a href="#1-4-7-Symbol-Type" class="headerlink" title="1.4.7 Symbol Type"></a>1.4.7 Symbol Type</h3><ul>
<li>ES6導入此Type, 有唯一和不可變的性質. 此性質是為了讓object有唯一識別的屬性, 可取代用string的key</li>
<li>使用Symbol()和Symbol(keyStr), 都是獨立的.</li>
<li>用console輸出有帶keyStr的symbol, 會有那筆keyStr</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let sym1 = Symbol();     console.log(typeof sym1); // 輸出 &quot;symbol&quot;     let sym2 = Symbol();     console.log(sym1 == sym2); // 輸出false          let sym3 = Symbol(&#x27;test&#x27;);     console.log(sym3); // 輸出 Symbol(test)     let sym4 = Symbol(&#x27;test&#x27;);     console.log(sym3 == sym4); // 輸出false</span><br></pre></td></tr></table></figure>

<h2 id="-5"><a href="#-5" class="headerlink" title=""></a></h2><ul>
<li>Symbol是不可以用new的, 避免直接被封裝為object</li>
<li>但可以用Object(someSymbol)封裝成object</li>
</ul>
<h4 id="1-4-7-1-Global-Symbol-Registry"><a href="#1-4-7-1-Global-Symbol-Registry" class="headerlink" title="1.4.7.1 Global Symbol Registry"></a>1.4.7.1 Global Symbol Registry</h4><ul>
<li>可建立重複使用的全域symbol, 使用Symbol.for(‘someKey’)</li>
<li>如果有多個Symbol.for同樣key的symbol, 都是同一個物件</li>
<li>global和一般的symbol用同樣的key仍是不同的物件</li>
<li>Symbol.for()則是建立一個undefined的key</li>
<li>Symbol.keyFor能輸出global symbol的key值, 但一般的symbol只會輸出undefined</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let sym1 = Symbol.for(&#x27;hello&#x27;);     console.log(typeof sym1); // 輸出 &quot;symbol&quot;     console.log(sym1); // 輸出 Symbol(hello)     let sym2 = Symbol.for(&#x27;hello&#x27;);     console.log(sym1 == sym2); // 輸出true     let sym3 = Symbol(&#x27;hello&#x27;);     console.log(sym1 == sym3); // 輸出false     let sym4 = Symbol.for();     console.log(sym4); // 輸出 Symbol(undefined)     console.log(Symbol.keyFor(sym1)); // 輸出hello     let sym5 = Symbol(&#x27;GUY&#x27;);     console.log(Symbol.keyFor(sym5)); // 輸出undefined     </span><br></pre></td></tr></table></figure>

<h4 id="1-4-7-2-Using-Symbols-as-Properties"><a href="#1-4-7-2-Using-Symbols-as-Properties" class="headerlink" title="1.4.7.2 Using Symbols as Properties"></a>1.4.7.2 Using Symbols as Properties</h4><ul>
<li>object除了string和number當property, 也能用Symbol</li>
<li>可用[]或 Object.defineProperty()、Object.defineProperties() 定義property</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let sym1 = Symbol.for(&#x27;a&#x27;);     let sym2 = Symbol.for(&#x27;b&#x27;);     let sym3 = Symbol.for(&#x27;c&#x27;);     let sym4 = Symbol.for(&#x27;d&#x27;);     let obj1 = &#123;[sym1]: &#x27;sym1 value&#x27;&#125;;     console.log(obj1); // 輸出 &#123;Symbol(a): &quot;sym1 value&quot;&#125;          Object.defineProperty(obj1, sym2, &#123;value: &#x27;sym2 value&#x27;&#125;);     console.log(obj1); // 輸出 &#123;Symbol(a): &quot;sym1 value&quot;, Symbol(b): &quot;sym2 value&quot;&#125;          Object.defineProperties(obj1, &#123;        [sym3]: &#123;value: &#x27;sym3 value&#x27;&#125;,        [sym4]: &#123;value: &#x27;sym4 value&#x27;&#125;     &#125;);     console.log(obj1);      // 輸出 &#123;Symbol(a): &quot;sym1 value&quot;, Symbol(b): &quot;sym2 value&quot;     // , Symbol(c): &quot;sym3 value&quot;, Symbol(d): &quot;sym4 value&quot;&#125;     </span><br></pre></td></tr></table></figure>

<h2 id="-6"><a href="#-6" class="headerlink" title=""></a></h2><ul>
<li><p>取object的property有區分Object.getOwnPropertyNames()和 Object.getOwnPropertySymbols(), 分別是回傳非Symbol和Symbol的Property  </p>
</li>
<li><p>Object.getOwnPropertyDescriptors()可回傳所有property與對應value的object描述</p>
</li>
<li><p>如果要全部回傳property, 可用Reflect.ownKeys()</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let sym1 = Symbol.for(&#x27;a&#x27;);     let sym2 = Symbol.for(&#x27;b&#x27;);     let obj1 = &#123;[sym1]: &#x27;sym1 value&#x27;, [sym2]: &#x27;sym2 value&#x27;, test: &#x27;test value&#x27;, 4: &#x27;4 value&#x27;&#125;;     console.log(Object.getOwnPropertySymbols(obj1)); // 輸出 [Symbol(a), Symbol(b)]     console.log(Object.getOwnPropertyNames(obj1)); // 輸出 [&quot;4&quot;, &quot;test&quot;]     console.log(Object.getOwnPropertyDescriptors(obj1)); // 輸出 [&quot;4&quot;:&#123;...&#125;, &quot;test&quot;:&#123;...&#125;, Symbol(a):&#123;...&#125;, Symbol(b):&#123;...&#125;]     console.log(Reflect.ownKeys(obj1)); // 輸出 [&quot;4&quot;, &quot;test&quot;, Symbol(a), Symbol(b)]     </span><br></pre></td></tr></table></figure>

<h2 id="-7"><a href="#-7" class="headerlink" title=""></a></h2><h4 id="1-4-7-3-Well-Known-Symbols"><a href="#1-4-7-3-Well-Known-Symbols" class="headerlink" title="1.4.7.3 Well-Known Symbols"></a>1.4.7.3 Well-Known Symbols</h4><ul>
<li>ES6有定義一些global的symbol, 有各別的用途</li>
<li>在MDN的Properties類別都是well-known symbols <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/search">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects&#x2F;Symbol&#x2F;search</a></li>
</ul>
<h3 id="1-4-8-Object-Type"><a href="#1-4-8-Object-Type" class="headerlink" title="1.4.8 Object Type"></a>1.4.8 Object Type</h3><ul>
<li>一組資料和功能的集合</li>
<li>使用new Object()建立object物件</li>
<li>任何的object有預設的函式和屬性</li>
</ul>
<p>       1. constructor: 很特別這是property</p>
<p>       2. hasOwnProperty(propertyName): 檢查是否有property在此object(不是預設的property)</p>
<p>       3. isPrototypeOf(someObject): 是否為someObject的prototype</p>
<p>       4. propertyIsEnumerable(propertyName): 能否用在for-in</p>
<p>       5. toLocaleString(): 可輸出指定語系的string</p>
<p>       6. toString(): 回傳物件的string表示法</p>
<p>       7. valueOf(): 回傳物件的string、number或boolean的表示. 通常和toString()一樣</p>
<ul>
<li>Host object: 比如瀏覽器的DOM、BOM object, 不一定是繼承ECMAScript的object</li>
</ul>
<h2 id="1-5-Operators"><a href="#1-5-Operators" class="headerlink" title="1.5 Operators"></a>1.5 Operators</h2><h3 id="1-5-1-Unary-Operators"><a href="#1-5-1-Unary-Operators" class="headerlink" title="1.5.1 Unary Operators"></a>1.5.1 Unary Operators</h3><h4 id="1-5-1-1-Increment-Decrement"><a href="#1-5-1-1-Increment-Decrement" class="headerlink" title="1.5.1.1 Increment&#x2F;Decrement"></a>1.5.1.1 Increment&#x2F;Decrement</h4><ul>
<li>++x,  x++, –x, ++x</li>
<li>可用在非整數的值</li>
<li>字串可以轉成數字時, 用++&#x2F;–會先轉成數字再做+&#x2F;- 1的動作</li>
<li>字串不可以轉成數字時, 用++&#x2F;–會變成NaN</li>
<li>boolean的false用++&#x2F;–時, 會先轉成0再做+&#x2F;- 1的動作</li>
<li>boolean的true用++&#x2F;–時, 會先轉成1再做+&#x2F;- 1的動作</li>
<li>浮點數用++&#x2F;–時, 會做+&#x2F;- 1的動作, 也會有浮點數精準度的問題</li>
<li>對object使用++&#x2F;–時, 會先嘗試用valueOf()的值和前面的邏輯產生第一次結果, 如果結果是NaN, 再用toString()產生字串再依字串的邏輯產生第二次結果</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let a = &quot;1&quot;;     let b = &quot;0xf&quot;;     let c = &quot;XD&quot;;     let d = true;     let e = false;     let f = 100;     let g = 1.1;     let h = &#123;1: 2&#125;;     a++; // 2     b++; // 16     c--; // NaN     d++; // 2     e--; // -1     f--; // 99     g--; // 0.10000000000000009     h++; // Nan     </span><br></pre></td></tr></table></figure>

<h4 id="1-5-1-2-Unary-Plus-and-Minus"><a href="#1-5-1-2-Unary-Plus-and-Minus" class="headerlink" title="1.5.1.2 Unary Plus and Minus"></a>1.5.1.2 Unary Plus and Minus</h4><ul>
<li>正負符號</li>
<li>對於非number的變數, 會先以Number()轉換再套用+&#x2F;-, 不能轉換者會是NaN</li>
</ul>
<h3 id="1-5-2-Bitwise-Operators"><a href="#1-5-2-Bitwise-Operators" class="headerlink" title="1.5.2 Bitwise Operators"></a>1.5.2 Bitwise Operators</h3><ul>
<li>ECMAScript的Number都是以IEEE-754 64位元儲存</li>
<li>但Bitwise的操作都是先轉成32位元來操作, 運算結果再存回64位元</li>
<li>Signed的整數, 第32位元用來表示正(0)或負(1). 負數是用two’s complement表示</li>
<li>負數用toString(2)會是絕對值的2進位再加上負號, 而不是two’s complement</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let num = -20;     console.log(num.toString(2)); // 輸出 -10100     </span><br></pre></td></tr></table></figure>

<h4 id="1-5-2-1-Bitwise-NOT"><a href="#1-5-2-1-Bitwise-NOT" class="headerlink" title="1.5.2.1 Bitwise NOT"></a>1.5.2.1 Bitwise NOT</h4><ul>
<li>數字前面用~波浪符號, 把所有bit轉成反bit</li>
<li>~num &#x3D; -num - 1</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let num1 = 19;     let num2 = ~num1;     console.log(num2); // 輸出 -20          let num3 = -num1 - 1;     console.log(num3); // 輸出 -20     </span><br></pre></td></tr></table></figure>

<h4 id="1-5-2-2-Bitwise-AND"><a href="#1-5-2-2-Bitwise-AND" class="headerlink" title="1.5.2.2 Bitwise AND"></a>1.5.2.2 Bitwise AND</h4><ul>
<li>用一個 &amp; 符號</li>
</ul>
<h4 id="1-5-2-3-Bitwise-OR"><a href="#1-5-2-3-Bitwise-OR" class="headerlink" title="1.5.2.3 Bitwise OR"></a>1.5.2.3 Bitwise OR</h4><ul>
<li>用一個 符號</li>
</ul>
<h4 id="1-5-2-4-Bitwise-XOR"><a href="#1-5-2-4-Bitwise-XOR" class="headerlink" title="1.5.2.4 Bitwise XOR"></a>1.5.2.4 Bitwise XOR</h4><ul>
<li>用一個 ^ 符號</li>
</ul>
<h4 id="1-5-2-5-Left-Shift"><a href="#1-5-2-5-Left-Shift" class="headerlink" title="1.5.2.5 Left Shift"></a>1.5.2.5 Left Shift</h4><ul>
<li>用 &lt;&lt; 符號, 將右邊bit往左移, 右邊補上0, 移動完的結果會是signed number</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let num1 = 1;     let num2 = num1 &lt;&lt; 1;     console.log(num2); // 輸出 2          let num3 = -1;     let num4 = num3 &lt;&lt; 1;     console.log(num4); // 輸出 -2     </span><br></pre></td></tr></table></figure>

<h4 id="1-5-2-6-Signed-Right-Shift"><a href="#1-5-2-6-Signed-Right-Shift" class="headerlink" title="1.5.2.6 Signed Right Shift"></a>1.5.2.6 Signed Right Shift</h4><ul>
<li>用 &gt;&gt; 符號, 將左邊第31個bit往右移, Sign bit保持不變, 移動完的結果會是signed number</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let num1 = 19;     let num2 = num1 &gt;&gt; 1;     console.log(num2); // 輸出 9          let num3 = -23;     let num4 = num3 &gt;&gt; 1;     console.log(num4); // 輸出 -12     </span><br></pre></td></tr></table></figure>

<h4 id="1-5-2-7-Unsigned-Right-Shift"><a href="#1-5-2-7-Unsigned-Right-Shift" class="headerlink" title="1.5.2.7 Unsigned Right Shift"></a>1.5.2.7 Unsigned Right Shift</h4><h2 id="-8"><a href="#-8" class="headerlink" title=""></a></h2><ul>
<li>用 &gt;&gt;&gt; 符號, 將左邊bit往右移, 左邊補上0, 移動完的結果會是正數或0</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let num1 = -5;     let num2 = num1 &gt;&gt;&gt; 1;     console.log(num2); // 輸出 2147483645          let num3 = 99;     let num4 = num3 &gt;&gt;&gt; 1;     console.log(num4); // 輸出 49</span><br></pre></td></tr></table></figure>

<h3 id="1-5-3-Boolean-Operators"><a href="#1-5-3-Boolean-Operators" class="headerlink" title="1.5.3 Boolean Operators"></a>1.5.3 Boolean Operators</h3><h4 id="1-5-3-1-Logical-NOT"><a href="#1-5-3-1-Logical-NOT" class="headerlink" title="1.5.3.1 Logical NOT"></a>1.5.3.1 Logical NOT</h4><ul>
<li>使用符號 ! , 可用在任何數值, 都是先轉成Boolean再求反的值</li>
</ul>
<h4 id="1-5-3-2-Logical-AND"><a href="#1-5-3-2-Logical-AND" class="headerlink" title="1.5.3.2 Logical AND"></a>1.5.3.2 Logical AND</h4><ul>
<li>使用符號 &amp;&amp;, 如果有一方不是boolean, 返回的值不一定是boolean</li>
<li>有短路的性質</li>
<li>如果左方是object, 則回傳右方</li>
<li>如果右方是object, 則左方必須是true才會回傳右方</li>
<li>如果兩邊都是object, 則回傳右方</li>
<li>如果有一方是null, 則回傳null, 並不是先回傳false</li>
<li>如果有一方是NaN, 則回傳NaN, 並不是回傳false</li>
<li>如果有一方是undefined, 則回傳undefined, 並不是回傳false</li>
</ul>
<h4 id="1-5-3-3-Logical-OR"><a href="#1-5-3-3-Logical-OR" class="headerlink" title="1.5.3.3 Logical OR"></a>1.5.3.3 Logical OR</h4><ul>
<li>使用符號 , 如果兩方都不是boolean, 返回的值不一定是boolean</li>
<li>有短路的性質</li>
<li>如果左方是object, 則回傳左方</li>
<li>如果左方是轉換boolean是false, 則回傳右方</li>
<li>如果兩邊都是object, 則回傳左方</li>
<li>如果兩邊都是null, 則回傳null, 並不是先回傳false</li>
<li>如果兩邊都是NaN, 則回傳NaN, 並不是先回傳false</li>
<li>如果兩邊都是undefined, 則回傳undefined, 並不是先回傳false</li>
</ul>
<h3 id="1-5-4-Multiplicative-Operators"><a href="#1-5-4-Multiplicative-Operators" class="headerlink" title="1.5.4 Multiplicative Operators"></a>1.5.4 Multiplicative Operators</h3><h4 id="1-5-4-1-Multiply"><a href="#1-5-4-1-Multiply" class="headerlink" title="1.5.4.1 Multiply"></a>1.5.4.1 Multiply</h4><ul>
<li>使用符號 * 做乘法運算</li>
<li>數字相乘超過可表示的範圍, 將是Infinity&#x2F;-Infinity</li>
<li>只要有一方是NaN, 乘法結果一定是NaN</li>
<li>Infinity * 0 &#x3D; NaN (!!??)</li>
<li>Infinity 乘以 非0的數仍是+&#x2F;-Infinity, 根據正負規則</li>
<li>Infinity 乘以 Infinity 仍是+&#x2F;-Infinity, 根據正負規則</li>
<li>其他非數字的會先用Number()轉換再用上述邏輯</li>
</ul>
<h4 id="1-5-4-2-Divide"><a href="#1-5-4-2-Divide" class="headerlink" title="1.5.4.2 Divide"></a>1.5.4.2 Divide</h4><h2 id="-9"><a href="#-9" class="headerlink" title=""></a></h2><ul>
<li>使用符號 &#x2F; 做除法運算</li>
<li>數字相除超過可表示的範圍, 將是Infinity&#x2F;-Infinity</li>
<li>只要有一方是NaN, 乘法結果一定是NaN</li>
<li>Infinity &#x2F; Infinity &#x3D; NaN</li>
<li>0 &#x2F; 0 &#x3D; NaN</li>
<li>非0 除以 0 &#x3D; +&#x2F;-Infinity, 根據正負規則</li>
<li>Infinity 除以 非0的數仍是+&#x2F;-Infinity, 根據正負規則</li>
<li>其他非數字的會先用Number()轉換再用上述邏輯</li>
</ul>
<h4 id="1-5-4-3-Modulus"><a href="#1-5-4-3-Modulus" class="headerlink" title="1.5.4.3 Modulus"></a>1.5.4.3 Modulus</h4><ul>
<li>使用符號 % 取餘數</li>
<li>和除法有相似的邏輯</li>
<li>都是正常的數字, 可以直接取餘數</li>
<li>Infinity % 非無限大的數 &#x3D; NaN</li>
<li>非無限大的數 % 0 &#x3D; NaN</li>
<li>Infinity % Infinity &#x3D; NaN</li>
<li>非無限大的數 % Infinity &#x3D; 非無限大的數</li>
<li>0 % 任何數 &#x3D; 0</li>
<li>其他非數字的會先用Number()轉換再用上述邏輯</li>
</ul>
<h3 id="1-5-5-Exponentiation-Operators"><a href="#1-5-5-Exponentiation-Operators" class="headerlink" title="1.5.5 Exponentiation Operators"></a>1.5.5 Exponentiation Operators</h3><ul>
<li>在ES7, 可使用a ** b, 代表Math.pow(a, b)</li>
<li>也能用 a **&#x3D; b</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let num1 = 64;     let num2 = num1 ** 0.5;     console.log(num2); // 輸出 8          let num3 = 12;     num3 **= 2;     console.log(num3); // 輸出 144     </span><br></pre></td></tr></table></figure>

<h3 id="1-5-6-Additive-Operators"><a href="#1-5-6-Additive-Operators" class="headerlink" title="1.5.6 Additive Operators"></a>1.5.6 Additive Operators</h3><h4 id="1-5-6-1-Add"><a href="#1-5-6-1-Add" class="headerlink" title="1.5.6.1 Add"></a>1.5.6.1 Add</h4><ul>
<li>使用符號 + 相加</li>
<li>如果兩者都是數字, 則可套用下列4個規則</li>
</ul>
<p>      1. 只要有一方是NaN, 相加結果一定是NaN</p>
<p>      2. Infinity + Infinity &#x3D; Infinity</p>
<p>      3. -Infinity + -Infinity &#x3D; -Infinity</p>
<p>      4. Infinity + -Infinity &#x3D; NaN</p>
<ul>
<li>只要有一方是字串, 其他都會轉成字串做串接</li>
<li>非字串類的, 會先用Number()轉成數字, 再以Number計算</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let num1 = 2;     let num2 = true;     console.log(num1 + num2); // 輸出 3          let num3 = &quot;4&quot;;     let num4 = 55;     console.log(num3 + num4); // &quot;4&quot;並不會轉成數字4, 輸出 455          let num5 = 1;     let num6 = null;     console.log(num5 + num6); // null轉成0, 輸出 1          let num7 = 2;     let num8 = undefined;     console.log(num7 + num8); // undefined轉成NaN, 輸出 NaN          let num9 = 3;     let num10 = &#123;&quot;test&quot;: true&#125;;     console.log(num9 + num10); // object轉成字串, 輸出 3[object Object]     </span><br></pre></td></tr></table></figure>

<h4 id="1-5-6-2-Subtract"><a href="#1-5-6-2-Subtract" class="headerlink" title="1.5.6.2 Subtract"></a>1.5.6.2 Subtract</h4><ul>
<li>使用符號 - 相減</li>
<li>如果兩者都是數字, 則可套用下列5個規則</li>
</ul>
<p>      1. 只要有一方是NaN, 相減結果一定是NaN</p>
<p>      2. Infinity - Infinity &#x3D; NaN</p>
<p>      3. -Infinity - -Infinity &#x3D; NaN</p>
<p>      4. Infinity - -Infinity &#x3D; Infinity</p>
<p>      5. -Infinity - Infinity &#x3D; -Infinity</p>
<ul>
<li>其他非數字類, 會先用Number()轉成數字, 再以Number計算</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let num1 = 2;     let num2 = true;     console.log(num1 - num2); // 輸出 1          let num3 = &quot;4&quot;;     let num4 = 55;     console.log(num3 - num4); // &quot;4&quot;轉成數字4, 輸出 -51          let num5 = 1;     let num6 = null;     console.log(num5 - num6); // null轉成0, 輸出 1          let num7 = 2;     let num8 = undefined;     console.log(num7 - num8); // undefined轉成NaN, 輸出 NaN          let num9 = 3;     let num10 = &#123;&quot;test&quot;: true&#125;;     console.log(num9 - num10); // object轉成字串, 輸出 NaN     </span><br></pre></td></tr></table></figure>

<h3 id="1-5-7-Relational-Operators"><a href="#1-5-7-Relational-Operators" class="headerlink" title="1.5.7 Relational Operators"></a>1.5.7 Relational Operators</h3><ul>
<li>&gt; 、 &lt;、&gt;&#x3D; 、&lt;&#x3D; 4種比對</li>
<li>只要有一方是NaN, 比對結果一定是false</li>
<li>兩邊都是字串時, 用字串的字母順序比對</li>
<li>有非數字類, 則用Number()轉換再做number比對</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let num1 = 2;     let num2 = true;     console.log(num1 &gt; num2); // 輸出 true          let num3 = &quot;4&quot;;     let num4 = 55;     console.log(num3 &gt; num4); // &quot;4&quot;轉成數字4, 輸出 false          let num5 = &quot;jack&quot;;     let num6 = &quot;rose&quot;;     console.log(num5 &gt; num6); // 輸出 fasle          let num7 = 2;     let num8 = undefined;     console.log(num7 &gt; num8); // undefined轉成NaN, 輸出 false          let num9 = 3;     let num10 = &#123;&quot;test&quot;: true&#125;;     console.log(num9 &gt; num10); // object轉成字串, 再Number()轉換成NaN, 輸出 false          let num11 = 1;     let num12 = NaN;     console.log(num11 &gt; num12); // 輸出 false     console.log(num1 &lt;= num12); // 還是輸出 false          </span><br></pre></td></tr></table></figure>

<h3 id="1-5-8-Equality-Operators"><a href="#1-5-8-Equality-Operators" class="headerlink" title="1.5.8 Equality Operators"></a>1.5.8 Equality Operators</h3><h2 id="-10"><a href="#-10" class="headerlink" title=""></a></h2><ul>
<li>區分轉換相等 &#x3D;&#x3D; &#x2F; !&#x3D; 和全等 &#x3D;&#x3D;&#x3D; &#x2F; !&#x3D;&#x3D;&#x3D;</li>
<li>轉換相等會先轉換成同型別再比較; 全等直接依目前型別來比較</li>
</ul>
<h4 id="1-5-8-1-轉換相等"><a href="#1-5-8-1-轉換相等" class="headerlink" title="1.5.8.1 轉換相等 &#x3D;&#x3D; &#x2F; !&#x3D;"></a>1.5.8.1 轉換相等 &#x3D;&#x3D; &#x2F; !&#x3D;</h4><ul>
<li>兩者型別不相同時, 將使用一些規則轉換</li>
</ul>
<ol>
<li>Boolean都轉換成數字, true&#x2F;false &#x3D; 1&#x2F;0</li>
<li>一邊是字串,另一邊是數字, 則將字串嘗試轉成數字</li>
<li>一邊是object, 另一邊不是, 則將object的valueOf()轉成一般類型再比對</li>
</ol>
<ul>
<li>經過前述轉換, 再來一些規則</li>
</ul>
<ol>
<li>null &#x3D;&#x3D; undefined</li>
<li>null和undefined是不會被轉換的</li>
<li>只要有NaN, 任何 &#x3D;&#x3D; 都是false, 任何 !&#x3D; 都是true</li>
<li>如果兩邊都是object, 用 &#x3D;&#x3D; 會比對是否指向同一個object</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let num1 = 1;     let num2 = true;     console.log(num1 == num2); // 輸出 true          let num3 = &quot;4&quot;;     let num4 = 4;     console.log(num3 == num4); // &quot;4&quot;轉成數字4, 輸出 true          let num5 = &quot;0&quot;;     let num6 = null;     console.log(num5 == num6); // 輸出 false          let num7 = 1;     let num8 = undefined;     console.log(num7 != num8); // 輸出 true          let num9 = 2;     let num10 = null;     console.log(num9 != num10); // 輸出 true          let num11 = 3;     let num12 = NaN;     console.log(num11 == num12); // 輸出 false     console.log(num11 != num12); // 輸出 true          </span><br></pre></td></tr></table></figure>

<h4 id="1-5-8-2-全等"><a href="#1-5-8-2-全等" class="headerlink" title="1.5.8.2 全等 &#x3D;&#x3D;&#x3D; &#x2F; !&#x3D;&#x3D;"></a>1.5.8.2 全等 &#x3D;&#x3D;&#x3D; &#x2F; !&#x3D;&#x3D;</h4><h2 id="-11"><a href="#-11" class="headerlink" title=""></a></h2><ul>
<li>兩者型別不轉換型別直接比對</li>
<li>null &#x3D;&#x3D;&#x3D; undefined 會是false</li>
<li>建議任何等於比對, 都用全等</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let num1 = 1;     let num2 = true;     console.log(num1 === num2); // 輸出 false          let num3 = &quot;4&quot;;     let num4 = 4;     console.log(num3 === num4); // 輸出 false          let num5 = &quot;0&quot;;     let num6 = null;     console.log(num5 === num6); // 輸出 false          let num7 = 1;     let num8 = undefined;     console.log(num7 !== num8); // 輸出 true          let num9 = 2;     let num10 = null;     console.log(num9 !== num10); // 輸出 true          let num11 = 3;     let num12 = NaN;     console.log(num11 === num12); // 輸出 false     console.log(num11 !== num12); // 輸出 true</span><br></pre></td></tr></table></figure>

<h3 id="1-5-9-Conditional-Operators"><a href="#1-5-9-Conditional-Operators" class="headerlink" title="1.5.9 Conditional Operators"></a>1.5.9 Conditional Operators</h3><ul>
<li>let x &#x3D; some_boolean_expression ? y : z;</li>
</ul>
<h3 id="1-5-10-Assignment-Operators"><a href="#1-5-10-Assignment-Operators" class="headerlink" title="1.5.10 Assignment Operators"></a>1.5.10 Assignment Operators</h3><ul>
<li>=</li>
<li>+&#x3D;</li>
<li>-&#x3D;</li>
<li>*&#x3D;</li>
<li>&#x2F;&#x3D;</li>
<li>&lt;&lt;&#x3D;</li>
<li>&gt;&gt;&#x3D;</li>
<li>&gt;&gt;&gt;&#x3D;</li>
</ul>
<h3 id="1-5-11-Comma-Operators"><a href="#1-5-11-Comma-Operators" class="headerlink" title="1.5.11 Comma Operators"></a>1.5.11 Comma Operators</h3><ul>
<li>多個運算只用一個statement</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let num1 = 1, num2 = 2, num3 = 3;          let x = (1,2,3,4,5,6,7,8,9,10); // 會是指定最後一個數 10     </span><br></pre></td></tr></table></figure>

<h2 id="1-6-Statements"><a href="#1-6-Statements" class="headerlink" title="1.6 Statements"></a>1.6 Statements</h2><h3 id="1-6-1-if-statement"><a href="#1-6-1-if-statement" class="headerlink" title="1.6.1 if statement"></a>1.6.1 if statement</h3><ul>
<li>if(expression) 的expression會用Boolean()轉換</li>
</ul>
<h3 id="1-6-2-do-while-statement"><a href="#1-6-2-do-while-statement" class="headerlink" title="1.6.2 do-while statement"></a>1.6.2 do-while statement</h3><h3 id="1-6-3-while-statement"><a href="#1-6-3-while-statement" class="headerlink" title="1.6.3 while statement"></a>1.6.3 while statement</h3><h3 id="1-6-4-for-statement"><a href="#1-6-4-for-statement" class="headerlink" title="1.6.4 for statement"></a>1.6.4 for statement</h3><h3 id="1-6-5-for-in-statement"><a href="#1-6-5-for-in-statement" class="headerlink" title="1.6.5 for-in statement"></a>1.6.5 for-in statement</h3><ul>
<li>支援可Enumerable且非symbol的property</li>
<li>用在null或undefined會拋出錯誤</li>
<li>for-in無法保證順序</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let obj1 = &#123;&#x27;t&#x27;: &#x27;test&#x27;, &#x27;1&#x27;: &#x27;hello&#x27;&#125;;     for(let x in obj1)&#123;         console.log(x); // 輸出property  t 和 1         console.log(obj1[x]); // 輸出property對應的value, test 和 hello     &#125;          let obj2 = [100,200];      for(let x in obj2)&#123;         console.log(x); // 輸出property  0 和 1, 也代表array的index         console.log(obj2[x]); // 輸出property對應的value, 100 和 200     &#125;     </span><br></pre></td></tr></table></figure>

<h3 id="1-6-6-for-of-statement"><a href="#1-6-6-for-of-statement" class="headerlink" title="1.6.6 for-of statement"></a>1.6.6 for-of statement</h3><h2 id="-12"><a href="#-12" class="headerlink" title=""></a></h2><ul>
<li>支援有iterator的next()的資料</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let obj1 = &#123;&#x27;t&#x27;: &#x27;test&#x27;, &#x27;1&#x27;: &#x27;hello&#x27;&#125;;     for(let x of obj1)&#123;         console.log(x); // 產生錯誤 Uncaught TypeError: obj1 is not iterable         console.log(obj1[x]);     &#125;          let obj2 = [100,200];      for(let x of obj2)&#123;         console.log(x); // 輸出值  100 和 200     &#125;     </span><br></pre></td></tr></table></figure>

<h2 id="-13"><a href="#-13" class="headerlink" title=""></a></h2><h3 id="1-6-7-labeled-statement"><a href="#1-6-7-labeled-statement" class="headerlink" title="1.6.7 labeled statement"></a>1.6.7 labeled statement</h3><h2 id="-14"><a href="#-14" class="headerlink" title=""></a></h2><ul>
<li>statement可以加上標籤</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">statement1: for(let i = 0 ; i &lt; 5;++i)&#123;                console.log(i);            &#125;         </span><br></pre></td></tr></table></figure>

<h3 id="1-6-8-break-continue-statement"><a href="#1-6-8-break-continue-statement" class="headerlink" title="1.6.8 break&#x2F;continue statement"></a>1.6.8 break&#x2F;continue statement</h3><h2 id="-15"><a href="#-15" class="headerlink" title=""></a></h2><ul>
<li>用在迴圈可以跳出或繼續</li>
<li>break&#x2F;continue可加上label name, 指定要break&#x2F;continue的迴圈位置</li>
</ul>
<h3 id="1-6-9-with-statement"><a href="#1-6-9-with-statement" class="headerlink" title="1.6.9 with statement"></a>1.6.9 with statement</h3><h2 id="-16"><a href="#-16" class="headerlink" title=""></a></h2><ul>
<li>將code block內的scope, 都能用with裡的property</li>
<li>不建議用with</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">with(window)&#123;         // 都來自widnow的屬性, 可不用window.xxxx的寫法         let myOrigin = origin;         let myHeight = outerHeight;         let myWidth = outerWidth;         console.log(myOrigin);         console.log(myHeight);         console.log(myWidth);     &#125;     </span><br></pre></td></tr></table></figure>

<h3 id="1-6-10-switch-statement"><a href="#1-6-10-switch-statement" class="headerlink" title="1.6.10 switch statement"></a>1.6.10 switch statement</h3><h2 id="-17"><a href="#-17" class="headerlink" title=""></a></h2><ul>
<li>和其他的程式語言相似, 但有一些特殊功能</li>
<li>switch的比對都是全等, 不會轉型</li>
<li>case的值不一定是變數, 也可以是運算式</li>
</ul>
<h2 id="1-7-Functions"><a href="#1-7-Functions" class="headerlink" title="1.7 Functions"></a>1.7 Functions</h2><ul>
<li><p>用function myFunctionName(arg1, arg2, ….){ }  </p>
</li>
<li><p>fumction沒有強制要return, 若沒回傳東西或者return; , 都是得到undefined</p>
</li>
<li><p>建議function的功能是全都要回傳東西或者都不回傳</p>
</li>
</ul>
<h2 id="2-心得"><a href="#2-心得" class="headerlink" title="2. 心得"></a>2. 心得</h2><p>       這一章節很重要, 之前看到很多網路對JS的謎音創作, 都是那null&#x2F;NaN&#x2F;undefined&#x2F;&#x3D;&#x3D;之類的觀念, 其實現在看到心想這怎麼天殺的難…但看了這本書解釋的定義和底層實作, 可以歸納出邏輯, 現階段就多看多寫吧~</p>
<h2 id="3-參考資料"><a href="#3-參考資料" class="headerlink" title="3. 參考資料"></a>3. 參考資料</h2><ol>
<li>Professional JavaScript for Web Developers 4th Edition, Chapter 3 : Language Basics, Matt Frisbie.</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/05/12/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98-professional-javascript-for-web-developers-%E7%AC%AC2%E7%AB%A0-%E5%9C%A8html%E4%B8%AD%E4%BD%BF%E7%94%A8javascript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/12/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98-professional-javascript-for-web-developers-%E7%AC%AC2%E7%AB%A0-%E5%9C%A8html%E4%B8%AD%E4%BD%BF%E7%94%A8javascript/" class="post-title-link" itemprop="url">[讀書筆記] Professional JavaScript for Web Developers - 第2章 在HTML中使用JavaScript</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-12 07:49:00" itemprop="dateCreated datePublished" datetime="2020-05-12T07:49:00+08:00">2020-05-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98/" itemprop="url" rel="index"><span itemprop="name">讀書筆記</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-1-Element"><a href="#1-1-Element" class="headerlink" title="1.1  Element"></a>1.1 <script> Element</h2><ul>
<li>最早是Netscape實作, 後來HTML才加入它為規範之一</li>
<li>有8種屬性</li>
</ul>
<p>1. async: 可選, 代表立即下載該腳本, 但不影響頁面其他的動作(ex: 載入其他的腳本), 只能用在外部腳本.<br>2. charset: 可選, 指定src所指的字元集, 但現在很少使用<br>3. crossorigin: 可選, 設定request的CORS, 預設CORS不使用. 如果是 crossorigin="anonymous", 不會帶入credential標記; 如果是 crissirugub="use-credentials", 將設credential標記, request帶著credentials. </p>
<p>在MDN有一段很詳細的解釋:</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/crossorigin">https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/crossorigin</a></p>
<p>實驗: </p>
<p>在開一個本機端建立一個html, <script>代一個jQuery的cdn連結:</p>
<p><strong>anonymous</strong>: CORS requests for this element will have the credentials flag set to 'same-origin'. </p>
<p>在Chrome DevTool可看見 Request header多帶了 Origin參數</p>
<p><strong>use-credentials</strong>: CORS requests for this element will have the credentials flag set to 'include'. </p>
<p>在Chrome DevTool的console會有error : </p>
<p>Access to script at '<a target="_blank" rel="noopener" href="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js</a>' from origin '<a target="_blank" rel="noopener" href="https://cdpn.io/">https://cdpn.io</a>' has been blocked by CORS policy: The value of the 'Access-Control-Allow-Origin' header in the response must not be the wildcard '*' when the request's credentials mode is 'include'.  </p>
<p>也代表Client和Server都要有同Domain.</p>
<p>4. defer: 可選, 可延遲到頁面被完全解析與載入後再執行此腳本, 只能用在外部腳本.</p>
<p>5. integrity: 可選, 驗證Subresource Integrity (SRI)(比如 CDN的資源)的簽名和此屬性有無相符. 沒有相符則此script不會執行.</p>
<p>假如有個CDN腳本連結: <script src="<a href="https://example.com/example-framework.js">https://example.com/example-framework.js</a>"</p>
<p>        integrity="sha384-oqVuAfXRKap7fdgcCY5uykM6+R9GqQ8K/uxy9rx7HNQlGYl1kPzQho1wx4JwY8wC"></script></p>
<p>可知道是用sha384做hash而得到oqVuAfXRKap7fdgcCY5uykM6+R9GqQ8K&#x2F;uxy9rx7HNQlGYl1kPzQho1wx4JwY8wC的base64字串, 則瀏覽器會對文檔做同樣sha384 hash且輸出base64, 檢查是否和CDN提供的一樣.</p>
<p>6. language: 不推薦使用, 指定腳本的語言, 比如”JavaScript”, 但現代瀏覽器不會看此屬性.</p>
<p>7. src: 可選, 指定要執行程式碼的外部檔案.</p>
<p>8. type: 可選, 指的是內文類型(也就是MIME類型), 用來取代language屬性. 早期都是”text&#x2F;javascript”. 現代也能用”module”值, 代表是ES6模組, 只能用在import&#x2F;export.</p>
<ul>
<li><script>的使用方式有2種: 在頁面嵌入外部js檔案和在<script>裡寫JS程式碼 (Inline)</li>
<li><script>是從上而下執行</li>
<li>當<script>內部執行完之前, 頁面其他內容不會載入/顯示</li>
<li>別任意出現</script>字串, 比如下方sayScript, 將被瀏覽器直譯為結束<script></li>
</ul>
<script>  
function sayScript() {  
console.log("</script>");  
<p>}<br></script>    </p>
<ul>
<li>所以要改成跳脫符號 來解決 :  console.log(“</script>“);</li>
<li>若要載入外部JS檔案, 則必須用src屬性.</li>
<li>XHTML的<script src="..."></script>結尾可簡化 : &lt;script src&#x3D;”example.js &#x2F;&gt;   , 一般HTML頁面不行.</li>
<li>瀏覽器不會檢查<script src="...">的副檔名.</li>
<li>在已經有src的<script>裡還加Inline JS語法, 仍只會執行載入外部檔案的功能.</li>
<li>除了async和defer的屬性, <script>的執行順序都是從上而下依次進行.</li>
</ul>
<h3 id="1-1-1-Tag-Placement"><a href="#1-1-1-Tag-Placement" class="headerlink" title="1.1.1 Tag Placement"></a>1.1.1 Tag Placement</h3><ul>
<li>早期都把<script src="...">放在<head>  .</li>
<li>但現在JS數量/功能越多, 變成先執行大量JS而頁面body還沒執行, 將會是一段時間都空白.</li>
<li>現代Web建議把<script>放在</body>結尾之前, 讓頁面先呈現東西.</li>
</ul>
<h3 id="1-1-2-Deferred-Scripts"><a href="#1-1-2-Deferred-Scripts" class="headerlink" title="1.1.2 Deferred Scripts"></a>1.1.2 Deferred Scripts</h3><ul>
<li>HTML 4.01導入defer屬性, 使外部JS檔案可以先下載, 但會在DOM完成後、DOMContentLoaded事件之前的中間時間做執行檔案的程式碼</li>
<li>使用defer的順序跟後續執行的順序照理一樣, 但並不總是這樣.</li>
<li>基於HTML5規範, defer用在Inline code不會起作用</li>
<li>在XHTML裡, 要用defer的寫法為 <script defer="defer"></script></li>
</ul>
<h3 id="1-1-3-Asynchronous-Scripts"><a href="#1-1-3-Asynchronous-Scripts" class="headerlink" title="1.1.3 Asynchronous Scripts"></a>1.1.3 Asynchronous Scripts</h3><h2 id=""><a href="#" class="headerlink" title=""></a></h2><ul>
<li>HTML5定義async屬性, 只能用在外部JS檔案, 功能是不讓頁面等待檔案的下載和執行.</li>
<li>和defer不同, 執行的順序不保證. 因此多個async的檔案之間不要有相依性.</li>
<li>async的腳本別在載入時期做DOM的修改</li>
<li>async腳本一定在頁面load之前執行, 但可能在DOMContentLoaded前或後執行.</li>
<li>在XHTML裡, 要用async的寫法為 <script async="async"><script></li>
</ul>
<h3 id="1-1-4-Dynamic-Script-Loading"><a href="#1-1-4-Dynamic-Script-Loading" class="headerlink" title="1.1.4 Dynamic Script Loading"></a>1.1.4 Dynamic Script Loading</h3><ul>
<li><script>元素可以透過JS動態建立
</li>
<li><p>行為預設和async一樣</p>
</li>
<li><p>範例寫法</p>
</li>
</ul>
<p>let script = document.createElement('script');<br>script.src = 'MyCode.js';<br>document.head.appendChild(script);    </p>
<ul>
<li>並不是所有瀏覽器都支援async, 可以改成script.async = false;</li>
</ul>
<h3 id="1-1-5-Changes-In-XHTML"><a href="#1-1-5-Changes-In-XHTML" class="headerlink" title="1.1.5 Changes In XHTML"></a>1.1.5 Changes In XHTML</h3><ul>
<li><p>Extensible HyperText Markup Language (XHTML) 是將HTML以XML方式來解析.</p>
</li>
<li><p>特殊案例, 比如有一段inline code 執行 if (a < b) , 由於< 是XML的element開頭, 會導致解析錯誤</p>
</li>
<li><p>解法1: 將< 或 >替換成HTML符號 &lt;  &gt;</p>
</li>
<li><p>解法2: 使用<![CDATA[ ...code .... ]]> </p>
</li>
<li><p>但有些瀏覽器仍不支援XHTML, 要再把使用<![CDATA[的功能註解</p>
</li>
<li><p>XHTML的MIME是 application/xhtml+xml</p>
</li>
</ul>
<h2 id="1-2-Inline-code-VS-External-File"><a href="#1-2-Inline-code-VS-External-File" class="headerlink" title="1.2 Inline code VS External File"></a>1.2 Inline code VS External File</h2><ul>
<li>盡可能使用外部檔案, 好處有</li>
</ul>
<ol>
<li><p>可維護性</p>
</li>
<li><p>可緩存</p>
</li>
<li><p>Future-proof(適應未來): HTML和XHTML都能用外部檔案, 避免有inline的code有的要註解、有的要加特殊語法</p>
</li>
</ol>
<ul>
<li>支援 SPDY/HTTP2的瀏覽器, 可以對外部檔案做cache, 提供別的頁面重複使用.比如A頁面請求 a.js, b.js, B頁面請求b.js, c.js, 當A頁面載入後會cache a.js, b.js, 而開B頁面時會因為有cache b.js而直接用, 節省請求頻寬.</li>
</ul>
<h2 id="1-3-Document-Modes"><a href="#1-3-Document-Modes" class="headerlink" title="1.3 Document Modes"></a>1.3 Document Modes</h2><ul>
<li>IE 5.5導入文件模式, 是依照doctype的切換來實作.</li>
<li>有quirks mode和standards mode, quirks mode會讓IE執行IE5的的行為(且包含一些非標準的功能)、standards mode讓IE執行比較標準.</li>
<li>模式的差異會影響CSS、JS.</li>
<li>IE後來又推出 almost standards mode (!!??), 主要會影響圖片的呈現.</li>
<li>如果檔案開頭沒任何doctype, 則瀏覽器預設開啟quirks mode.</li>
<li>MDN有個連結, 提供很完整的doctype對應的模式  <a target="_blank" rel="noopener" href="https://hsivonen.fi/doctype/">https://hsivonen.fi/doctype/</a> , 而現行瀏覽器最常用的 standards mode <!DOCTYPE html> 是 HTML5.</li>
</ul>
<p> </p>
<h2 id="1-4-Element"><a href="#1-4-Element" class="headerlink" title="1.4  Element"></a>1.4 <noscript> Element</h2><ul>
<li>當瀏覽器不能使用JS時, 在<noscript>裡的非JS內容會被呈現.</li>
<li>不能使用的條件</li>
</ul>
<ol>
<li><p>瀏覽器不支援JS</p>
</li>
<li><p>瀏覽器支援JS但設定檔將它失效</p>
</li>
</ol>
<ul>
<li>如果瀏覽器正常能使用JS, 則<noscript>的內容不會呈現</li>
</ul>
<h2 id="2-參考資料"><a href="#2-參考資料" class="headerlink" title="2. 參考資料"></a>2. 參考資料</h2><ol>
<li>Professional JavaScript for Web Developers 4th Edition, Chapter 2 : Javascript In HTML, Matt Frisbie.</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/05/10/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98-professional-javascript-for-web-developers-%E7%AC%AC1%E7%AB%A0-javascript%E7%B0%A1%E4%BB%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/10/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98-professional-javascript-for-web-developers-%E7%AC%AC1%E7%AB%A0-javascript%E7%B0%A1%E4%BB%8B/" class="post-title-link" itemprop="url">[讀書筆記] Professional JavaScript for Web Developers - 第1章 JavaScript簡介</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-10 23:50:00" itemprop="dateCreated datePublished" datetime="2020-05-10T23:50:00+08:00">2020-05-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98/" itemprop="url" rel="index"><span itemprop="name">讀書筆記</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-1-JavaScript簡史"><a href="#1-1-JavaScript簡史" class="headerlink" title="1.1 JavaScript簡史"></a>1.1 JavaScript簡史</h2><ul>
<li>European Computer Manufacturers Association (ECMA)專門制定JS</li>
<li>ECMA-262為ECMAScript (發音 ek-ma-script)</li>
<li>ISO將ECMAScript採納為ISO&#x2F;IEC-16262, 瀏覽器開發商以此為標準實作JS的功能</li>
</ul>
<h2 id="1-2-JavaScript實作"><a href="#1-2-JavaScript實作" class="headerlink" title="1.2 JavaScript實作"></a>1.2 JavaScript實作</h2><ul>
<li>JS包含三大元素</li>
</ul>
<ol>
<li>核心 (ECMAScript)</li>
<li>Document Object Model (DOM)</li>
<li>Browser Object Model (BOM)</li>
</ol>
<ul>
<li>ECMAScript本身和瀏覽器無直接關係</li>
<li>瀏覽器只是Host environment, 可以執行ECMAScript的平台, 可以和DOM交互作用</li>
<li>其他Host environment包含Node.js、過時的Adobe Flash</li>
<li>ECMAScript定7大種功能</li>
</ul>
<ol>
<li>Syntax</li>
<li>Types</li>
<li>Statements</li>
<li>Keywords</li>
<li>Reversed words</li>
<li>Operators</li>
<li>Global objects</li>
</ol>
<h3 id="1-2-1-ECMAScript"><a href="#1-2-1-ECMAScript" class="headerlink" title="1.2.1 ECMAScript"></a>1.2.1 ECMAScript</h3><h4 id="1-2-1-1-ECMAScript的版本"><a href="#1-2-1-1-ECMAScript的版本" class="headerlink" title="1.2.1.1 ECMAScript的版本"></a>1.2.1.1 ECMAScript的版本</h4><ul>
<li>ECMAScript 3.1: 2009發布的第5版修改(ES5), 包含JSON解析與序列化、method的繼承等</li>
<li>ECMAScript 6: 2015第6版修改, 也稱為ES6、ES2015</li>
<li>ECMAScript 7: 2016第7版修改, 也稱為ES7、ES2016</li>
<li>ECMAScript 8: 2017第8版修改, 也稱為ES8、ES2017</li>
</ul>
<h4 id="1-2-1-2-ECMAScript的兼容性"><a href="#1-2-1-2-ECMAScript的兼容性" class="headerlink" title="1.2.1.2 ECMAScript的兼容性"></a>1.2.1.2 ECMAScript的兼容性</h4><ul>
<li>必須支援ECMAScript規範的types, values, objects, properties, functions, program syntax, program semantics</li>
<li>必須支援 Unicode字元集</li>
<li>可擴展額外的types, values, objects, properties, function</li>
<li>支援沒在ECMAScript定義的正規表達式語法</li>
</ul>
<h4 id="1-2-1-3-瀏覽器對ECMAScript的支援"><a href="#1-2-1-3-瀏覽器對ECMAScript的支援" class="headerlink" title="1.2.1.3 瀏覽器對ECMAScript的支援"></a>1.2.1.3 瀏覽器對ECMAScript的支援</h4><ul>
<li><p>IE 8不完整支援ES3 (才ES3!?), IE 9也不完整支援ES5 (!?), 直到IE 10以後版本才完整支援ES5, IE真是前端工程師的惡夢</p>
</li>
<li><p>Edge 12+有支援ES6</p>
</li>
<li><p>其他瀏覽器只要有更新, 別太擔心ES的版本啦~</p>
</li>
</ul>
<p> </p>
<h3 id="1-2-2-Document-Object-Model"><a href="#1-2-2-Document-Object-Model" class="headerlink" title="1.2.2 Document Object Model"></a>1.2.2 Document Object Model</h3><ul>
<li>對於XML&#x2F;HTML文件的API</li>
<li>每一層節點都可以剖析成樹狀圖</li>
<li>W3C規劃DOM的功能</li>
<li>最早DOM1核心是以XML做Mapping, 後來延伸HTML的DOM</li>
<li>不只是JS才有DOM, 其他程式語言也有實作</li>
<li>DOM2新增多個功能的Interfaces</li>
</ul>
<ol>
<li><p>DOM View:文件變化(比如CSS套用)前&#x2F;後的對照</p>
</li>
<li><p>DOM Events: 事件處理</p>
</li>
<li><p>DOM Style: 應用CSS</p>
</li>
<li><p>DOM Traversal and Range: 操作文件樹</p>
</li>
</ol>
<ul>
<li><p>DOM3新增 文件的新增、載入(DOM Load &amp; Save)、文件的驗證 (DOM Validation)</p>
</li>
<li><p>其他的DOM標準像是支援SVG、MathML數學標記、SMIL(Synchronized Multimedia Integration Language)</p>
</li>
<li><p>DOM1~3也是有區分瀏覽器版本的支援(!!??)</p>
</li>
</ul>
<h3 id="1-2-3-Browser-Object-Model"><a href="#1-2-3-Browser-Object-Model" class="headerlink" title="1.2.3 Browser Object Model"></a>1.2.3 Browser Object Model</h3><ul>
<li><p>BOM可以操作瀏覽器顯示頁面內文以外的東西</p>
</li>
<li><p>最早的BOM沒有規範</p>
</li>
<li><p>HTML5發布, 才將BOM寫入規範</p>
</li>
<li><p>常見擴展的功能</p>
</li>
</ul>
<ol>
<li><p>彈出新視窗</p>
</li>
<li><p>移動、縮放、關閉</p>
</li>
<li><p>瀏覽器詳細資訊的navigator物件</p>
</li>
<li><p>瀏覽器載入頁面的詳細資訊location物件</p>
</li>
<li><p>使用者視窗解析度screen物件</p>
</li>
<li><p>對cookie的支援</p>
</li>
<li><p>XMLHttpRequest和IE獨特的ActiveXObject物件</p>
</li>
</ol>
<h2 id="1-3-JavaScript版本"><a href="#1-3-JavaScript版本" class="headerlink" title="1.3 JavaScript版本"></a>1.3 JavaScript版本</h2><ul>
<li><p>只有Mozilla (前身Netscape)才有沿用JS的版本, 但也只有到1.8.5</p>
</li>
<li><p>歷史版本簡介: <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Archive/Web/JavaScript/New_in_JavaScript">https://developer.mozilla.org/en-US/docs/Archive/Web/JavaScript/New_in_JavaScript</a></p>
</li>
<li><p>現在大宗瀏覽器都以ECMAScript版本為主</p>
</li>
</ul>
<h2 id="2-與書本內容無關的個人心得"><a href="#2-與書本內容無關的個人心得" class="headerlink" title="2. 與書本內容無關的個人心得"></a>2. 與書本內容無關的個人心得</h2><p>      這陣子在考慮軟體開發的職涯，雖然寫了5年ASP.NET，但對於[JavaScript]仍不是熟悉，可能是太依賴jQuery或SPA框架而導致原生JS知識較生疏，於是勉勵自己要把JS的經典書讀完加做筆記，希望之後開發Web系統更加完善。</p>
<h2 id="3-參考資料"><a href="#3-參考資料" class="headerlink" title="3. 參考資料"></a>3. 參考資料</h2><ol>
<li>Professional JavaScript for Web Developers 4th Edition, Chapter 1 : What Is Javascript? , Matt Frisbie.</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/05/01/poj-3624-charm-bracelet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/01/poj-3624-charm-bracelet/" class="post-title-link" itemprop="url">POJ 3624 Charm Bracelet</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-01 16:50:00" itemprop="dateCreated datePublished" datetime="2020-05-01T16:50:00+08:00">2020-05-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C#</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ACM/" itemprop="url" rel="index"><span itemprop="name">ACM</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Level-Easy/" itemprop="url" rel="index"><span itemprop="name">Level-Easy</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BC%8F%E8%A7%A3%E9%A1%8C/" itemprop="url" rel="index"><span itemprop="name">程式解題</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ProgramSolving/" itemprop="url" rel="index"><span itemprop="name">ProgramSolving</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/POJ/" itemprop="url" rel="index"><span itemprop="name">POJ</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>POJ 3624 Charm Bracelet 解題報告</p>
<h4 id="平台："><a href="#平台：" class="headerlink" title="平台："></a>平台：</h4><p>PKU Online Judge</p>
<h4 id="題號："><a href="#題號：" class="headerlink" title="題號："></a>題號：</h4><p>3624 - Charm Bracelet</p>
<h4 id="題目連結："><a href="#題目連結：" class="headerlink" title="題目連結："></a>題目連結：</h4><p><a target="_blank" rel="noopener" href="http://poj.org/problem?id=3624">http://poj.org/problem?id=3624</a></p>
<h4 id="題目說明："><a href="#題目說明：" class="headerlink" title="題目說明："></a>題目說明：</h4><p>有一條手鍊，它可以串很多小飾物，商店內有 N (1 ≤ N ≤ 3,402) 種小飾物，每種小飾物數量只有1個，每種小飾物的重量為 Wi (1 ≤ Wi ≤ 400)、合意價值為Di (1 ≤ Di ≤ 100)。而手鍊能串小飾物的總負重為M (1 ≤ M ≤ 12,880)，求手鍊串小飾物在不超過它的總負重條件下，求合意價值最高的串法。</p>
<h4 id="範例輸入："><a href="#範例輸入：" class="headerlink" title="範例輸入："></a>範例輸入：</h4><p>4 6<br>1 4<br>2 6<br>3 12<br>2 7</p>
<h4 id="範例輸出："><a href="#範例輸出：" class="headerlink" title="範例輸出："></a>範例輸出：</h4><p>23</p>
<h4 id="解題方法："><a href="#解題方法：" class="headerlink" title="解題方法："></a>解題方法：</h4><p>經典的0&#x2F;1背包問題，用一般的動態規劃求解，可參考<a target="_blank" rel="noopener" href="https://geekcodeparadise.com/2020/04/algorithms-dynamic-programming-0-1-knapsack-problem/">Dynamic Programming - 0&#x2F;1 Knapsack Problem</a></p>
<p>難度為Easy</p>
<h4 id="GITHUB位置："><a href="#GITHUB位置：" class="headerlink" title="GITHUB位置："></a>GITHUB位置：</h4><p><a target="_blank" rel="noopener" href="https://github.com/u8989332/ProblemSolving/blob/master/PKUOnlineJudge/3600-3699/3624.cpp">https://github.com/u8989332/ProblemSolving/blob/master/PKUOnlineJudge/3600-3699/3624.cpp</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/05/01/algorithms-dynamic-programming-0-1-knapsack-problem-space-complexity-optimization/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/01/algorithms-dynamic-programming-0-1-knapsack-problem-space-complexity-optimization/" class="post-title-link" itemprop="url">[Algorithms] Dynamic Programming - 0/1 Knapsack Problem - Space Complexity Optimization</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-01 14:35:00" itemprop="dateCreated datePublished" datetime="2020-05-01T14:35:00+08:00">2020-05-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index"><span itemprop="name">Algorithms</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Dynamic-Programming/" itemprop="url" rel="index"><span itemprop="name">Dynamic Programming</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Knapsack-Problem/" itemprop="url" rel="index"><span itemprop="name">Knapsack Problem</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-問題說明"><a href="#1-問題說明" class="headerlink" title="1. 問題說明"></a>1. 問題說明</h2><p> 本篇是講解使用動態規劃(DP)解決0&#x2F;1背包問題的空間優化，而問題本身和範例請再查閱<a target="_blank" rel="noopener" href="http://glj8989332.blogspot.com/2020/04/algorithms-dynamic-programming-01-knapsackproblem.html">[Algorithms] Dynamic Programming - 0&#x2F;1 Knapsack Problem</a>。<br> 原本Bottom-Up動態規劃的解決方式，是需要空間複雜度O(NW)，但可以再優化，只需要O(W)的空間做狀態轉移的計算。  </p>
<h2 id="2-空間複雜度優化"><a href="#2-空間複雜度優化" class="headerlink" title="2. 空間複雜度優化"></a>2. 空間複雜度優化</h2><p> 原本空間複雜度O(NW)的二維度狀態dp[i][j]，優化成一維度的動態規劃，定義狀態，  </p>
<p>dp[j] : 從前i種物品選擇之後，背包重量不超過j的最大總價值</p>
<p> 這狀態很特別，會一直覆蓋掉之前的狀態，所以看不出目前是哪一種物品選擇。  </p>
<p> 而它的初始化  </p>
<p>dp[0…..W] &#x3D; 0，任何背包沒裝任何物品，所以總價值都是0</p>
<p> 狀態的轉移縮短成1種：在前i-1種物品選擇第i個物品或者不選擇第i個物品，因此它的狀態轉移程式為：<br>[dp[j] &#x3D;max(dp[j], dp[j-w_{i}] + v_{i}), w_{i} leq j]  </p>
<p> 在 wi&lt;&#x3D; j 的狀況，代表現在背包的重量足夠裝第i個物品，因此可以選擇它或不選擇它。但是因為只剩下一維度的狀態，在使用雙層迴圈的虛擬碼會是： [for ileftarrow 0 to N-1 for jleftarrow W to w_{i} dp[j] &#x3D;max(dp[j], dp[j-w_{i}] + v_{i})]  </p>
<p> 這段虛擬碼背後的二維度狀態轉移是<br>[dp[i][j] &#x3D;max(dp[i-1][j], v_{i} +dp[i-1][j-w_{i}]), w_{i}leq j]  </p>
<p> 不可以將j的執行順序從 wi to W，否則這樣會變成完全背包問題，二維度狀態轉移會是：<br>[dp[i][j] &#x3D;max(dp[i-1][j], v_{i} +dp[i][j-w_{i}]), w_{i}leq j]<br> 最後計算出的背包的最大總價值為dp[W]。  </p>
<h3 id="2-1-迴圈版-Bottom-Up-動態規劃"><a href="#2-1-迴圈版-Bottom-Up-動態規劃" class="headerlink" title="2.1 迴圈版(Bottom-Up)動態規劃"></a>2.1 迴圈版(Bottom-Up)動態規劃</h3><p> 以迴圈實作，如下範例程式。  </p>
<p> 在執行函數bottom_up_01knapsack_1d前，將變數dp都初始化為0，代表任何背包上限重的最大總價值都為0。函數參數 ：  </p>
<ol>
<li>n: 物品總類數</li>
<li>curW: 背包的上限重量</li>
</ol>
<p> 迴圈有2層, 最外層是0….n-1，代表先選擇1個物品；裡面那層是curW…wi，代表當前的背包上限重量。<br> 以下用圖片解說迴圈解題過程，一開始初始化的dp表格如圖1。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/1-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/05/1.png"></a></p>
<p>圖1</p>
<p> 在 i &#x3D; 0, j &#x3D; 10時，背包上限 j &gt;&#x3D; w[0]， 可以裝下金幣，所以dp[10] &#x3D; max(dp[10], dp[10 - 2] + 5) &#x3D; 5，直到 j &#x3D; 2都是一樣條件，如圖2，已經計算完在挑選第1種物品後的最佳解。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/2-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/05/2.png"></a></p>
<p>圖2</p>
<p> 接著選擇藥水，在 i &#x3D; 1， j &lt;&#x3D; 5時，都是金幣與藥水一起選為最佳解(5 + 3 &#x3D; 8)；但 3 &lt;&#x3D; j &lt;&#x3D; 4，只能選擇金幣或者藥水，所以只選金幣為最佳解(5)，如圖3與圖4。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/3-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/05/3.png"></a></p>
<p>圖3</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/4-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/05/4.png"></a></p>
<p>圖4</p>
<p> 接著選擇書本，在 i &#x3D; 2， j &#x3D; 10時，金幣、藥水與書本一起選為最佳解(5 + 3 + 2 &#x3D; 10)；但 7 &lt;&#x3D; j &lt;&#x3D; 9，有選擇書本和金幣的總價值(5 + 2 &#x3D; 7) 比金幣和藥水的總價值(5 + 3 &#x3D; 8)還少，維持總價值為8；在5 &lt;&#x3D; j &lt;&#x3D; 6，只能選擇書本的總價值(2)比金幣和藥水的總價值(5 + 3 &#x3D; 8)還少，維持總價值為8，如圖5與圖6。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/5-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/05/5.png"></a></p>
<p>圖5 </p>
<p><img src="http://geekcodeparadise.com/wp-content/uploads/2020/05/6.png"></p>
<p>圖6</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/6-1.png"></a><br><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/6-1.png"></a></p>
<p> 接著選擇木劍，在 i &#x3D; 3， j &#x3D; 10時，金幣與劍木的總價值(5 + 4 &#x3D; 9)比金幣、藥水與書本一起選的最佳解(5 + 3 + 2 &#x3D; 10)還少，所以維持總價值為10；但 8 &lt;&#x3D; j &lt;&#x3D; 9，有選擇木劍和金幣的總價值(5 + 4 &#x3D; 9) 比金幣和藥水的總價值(5 + 3 &#x3D; 8)還多，總價值更新為9；在6 &lt;&#x3D; j &lt;&#x3D; 7，只能選擇木劍的總價值(4)比金幣和藥水的總價值(5 + 3 &#x3D; 8)還少，維持總價值為8，如圖7至圖9。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/7-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/05/7.png"></a></p>
<p>圖7</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/8-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/05/8.png"></a></p>
<p>圖8</p>
<p> 計算完的狀態如圖10，最佳解為dp[W] &#x3D; dp[10] &#x3D; 10，它和二維度解法的dp[4][10]是相等的。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/10-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/05/10.png"></a></p>
<p>圖10</p>
<p><strong>3. 效能分析</strong>  </p>
<p> DP的時間複雜度仍是O(NW)，但空間複雜度只需O(W)。  </p>
<h2 id="參考文獻"><a href="#參考文獻" class="headerlink" title="參考文獻"></a>參考文獻</h2><ol>
<li>演算法筆記-0&#x2F;1 Knapsack Problem <a target="_blank" rel="noopener" href="http://www.csie.ntnu.edu.tw/~u91029/KnapsackProblem.html">http://www.csie.ntnu.edu.tw/~u91029&#x2F;KnapsackProblem.html</a></li>
<li>背包九講 - 01 背包问题  <a target="_blank" rel="noopener" href="https://github.com/tianyicui/pack">https://github.com/tianyicui/pack</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/04/18/algorithms-dynamic-programming-0-1-knapsack-problem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/18/algorithms-dynamic-programming-0-1-knapsack-problem/" class="post-title-link" itemprop="url">Dynamic Programming - 0/1 Knapsack Problem</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-18 15:45:00" itemprop="dateCreated datePublished" datetime="2020-04-18T15:45:00+08:00">2020-04-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index"><span itemprop="name">Algorithms</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Dynamic-Programming/" itemprop="url" rel="index"><span itemprop="name">Dynamic Programming</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Knapsack-Problem/" itemprop="url" rel="index"><span itemprop="name">Knapsack Problem</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Dynamic Programming - 0&#x2F;1 Knapsack Problem</p>
<h4 id="1-問題說明"><a href="#1-問題說明" class="headerlink" title="1. 問題說明"></a>1. 問題說明</h4><p> 0&#x2F;1背包問題(Knapsack Problem)的描述：有1個背包可以裝上限W的總重量，從N種物品挑進這背包裡。每1種物品有各自的價值vi(0 ≤ i ≤ N - 1) 和重量wi(0 ≤ i ≤ N - 1)。每1種物品的數量只有1個，求不超過背包總重量，這些物品裝進背包的最高價值。  </p>
<p>以遊戲角色取寶物的狀況作為說明:</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/backpack.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/backpack.png" alt="0/1 Knapsack Problem 背包"></a></p>
<p>背包上限W &#x3D; 10</p>
<p>寶物共4種，分別是</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/coin.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/coin.png" alt="0/1 Knapsack Problem 金幣"></a></p>
<p>金幣, v0 = 5, w0 = 2</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/potionRed.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/potionRed.png" alt="0/1 Knapsack Problem 藥水"></a></p>
<p>藥水, v1 = 3, w1 = 3</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/tome.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/tome.png" alt="0/1 Knapsack Problem 書本"></a></p>
<p>書本, v2 = 2, w2 = 5</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/woodSword.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/woodSword.png" alt="0/1 Knapsack Problem 木劍"></a></p>
<p>木劍, v3 = 4, w3 = 6</p>
<p>那麼，要如何挑選寶物，使背包裡的總價值最高呢？<br>(圖片來源: <a target="_blank" rel="noopener" href="https://opengameart.org/content/fantasy-icon-pack-by-ravenmore-0">https://opengameart.org/content/fantasy-icon-pack-by-ravenmore-0</a> )</p>
<h4 id="2-貪婪法-非最佳解"><a href="#2-貪婪法-非最佳解" class="headerlink" title="2. 貪婪法(非最佳解)"></a>2. 貪婪法(非最佳解)</h4><p>使用貪婪法，從最大價值的寶物開始挑，所以會選擇  </p>
<p>金幣、木劍，總價值與總重量分別是5 + 4 &#x3D; 9與 2 + 6 &#x3D; 8，背包已經無法再裝其他寶物。  </p>
<p>但實際上最佳解並非9，接著以動態規劃的方式來解題。</p>
<h4 id="3-動態規劃"><a href="#3-動態規劃" class="headerlink" title="3. 動態規劃"></a>3. 動態規劃</h4><p>使用動態規劃時，先定義狀態，<br>dp[i][j] : 從前i種物品選擇之後，背包重量不超過j的最大總價值</p>
<p>狀態的初始值，</p>
<ol>
<li>dp[0][0…..W] &#x3D; 0，任何背包沒裝任何物品，所以總價值都是0</li>
<li>dp[0….N][0] &#x3D; 0，背包的上限為0，裝不了任何物品，所以總價值都是0</li>
</ol>
<p>狀態的轉移有2種：在前i-1種物品選擇第i個物品或者不選擇第i個物品，因此它的狀態轉移程式為：<br>$$dp[i][j] &#x3D;begin{cases}max(dp[i-1][j], v_{i} +dp[i-1][j-w_{i}]) &amp; w_{i}leq jdp[i-1][j] &amp; w_{i} &gt; jend{cases}$$  </p>
<p>在 wi&lt;&#x3D; j 的狀況，代表現在背包的重量足夠裝第i個物品，因此可以選擇它或不選擇它。若是wi&gt; j，代表第i個物品的重量超過現在背包的重量，不能選擇它，仍保持前i -1個物品的最大價值。  </p>
<p>背包的最大總價值為dp[N][W]。</p>
<h5 id="3-1-遞迴版-Top-Down-動態規劃"><a href="#3-1-遞迴版-Top-Down-動態規劃" class="headerlink" title="3.1 遞迴版(Top-Down)動態規劃"></a>3.1 遞迴版(Top-Down)動態規劃</h5><p>首先以Top-Down的策略，從大問題切成小問題來解決，以遞迴實作，如下範例程式：</p>
<p>在執行函數top_down_01knapsack前，將變數dp都初始化為-1，代表每種物品選擇與任何背包上限重的最大總價值尚未被計算。函數參數 ：</p>
<ol>
<li>i: 選擇完前i種物品</li>
<li>curW: 目前背包的上限重量</li>
</ol>
<p>　　<br>判斷條件：</p>
<ol>
<li>dp[i][curW] !&#x3D; -1： 如果不等於 -1，代表在選過i種物品且這個背包上限的最大價值被計算過，因此直接回傳此答案。</li>
<li>i &#x3D;&#x3D; 0 curW &#x3D;&#x3D; 0：如前述狀態的初始值，價值都是0。</li>
<li>w[i-1] &gt; curW：狀態轉移的規則之一，只能從別種物品繼續選擇</li>
<li>w[i-1] &lt;&#x3D; curW：狀態轉移的規則之一，選擇或不選擇此i-1物品，挑最大價值。</li>
</ol>
<p>在狀態轉移的規則裡，將計算結果都存在dp[i][curW]，才能讓後續的計算重複使用。  </p>
<p>以圖片講解遞迴執行的狀態樹，一開始的狀態如圖1，進入判斷條件w[3] &lt;&#x3D; curW，先不選擇w[3]，狀態如圖2。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/1.png" alt="Dynamic Programming - 0/1 Knapsack Problem 狀態樹"></a></p>
<p>圖1</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/2.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/2.png" alt="Dynamic Programming - 0/1 Knapsack Problem 狀態樹"></a></p>
<p>圖2</p>
<p>之後會依序進入判斷條件w[2] &lt;&#x3D; curW、w[1] &lt;&#x3D; curW、w[0] &lt;&#x3D; curW都不選擇物品的狀態，直到 i &#x3D;&#x3D; 0 (沒有任何物品) 回傳價值0，如圖3至圖5。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/3.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/3.png" alt="狀態樹"></a></p>
<p>圖3</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/4.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/4.png" alt="Dynamic Programming - 0/1 Knapsack Problem 狀態樹"></a></p>
<p>圖4</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/5.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/5.png" alt="0/1 Knapsack Problem 狀態樹"></a></p>
<p>圖5</p>
<p>換另一個狀態轉移 w[0] &lt;&#x3D; curW 選擇w[0]物品，也是因為 i &#x3D;&#x3D; 0 (沒有任何物品) 而回傳價值0，如圖6。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/6.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/6.png" alt="0/1 Knapsack Problem  狀態樹 圖6"></a></p>
<p>圖6</p>
<p>在 i &#x3D; 1, curW &#x3D; 10的狀態，將w[0] &lt;&#x3D; curW的狀態轉移規則取最大價值，所以是取有選擇w[0] 金幣為該狀態的最佳解 : dp[1][10] &#x3D; 0 + 5 &#x3D; 5，如圖7。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/7.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/7.png" alt="0/1 Knapsack Problem  狀態樹 圖7"></a></p>
<p>圖7</p>
<p>接著在 i &#x3D; 2, curW &#x3D; 10的狀態，往w[1] &lt;&#x3D; curW的另一個狀態轉移規則，計算取w[1]的最大價值，所以依序計算　</p>
<ul>
<li>i &#x3D; 1, curW &#x3D; 7 : 選擇w[1]</li>
<li>i &#x3D; 0, curW &#x3D; 5 : 選擇w[1]但不選擇w[0]</li>
<li>i &#x3D; 0, curW &#x3D; 5 : 選擇w[1]且選擇w[0]</li>
</ul>
<p> </p>
<p>最後i &#x3D; 2, curW的最大總價值 dp[2][10] &#x3D; 8，如圖8至圖12。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/8.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/8.png" alt="0/1 Knapsack Problem  狀態樹 圖8"></a></p>
<p>圖8</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/9.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/9.png" alt=" 狀態樹 圖9"></a></p>
<p>圖9</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/10.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/10.png" alt="  狀態樹 圖10"></a></p>
<p>圖10</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/11.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/11.png" alt="狀態樹 圖11"></a></p>
<p>圖11</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/12.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/12.png" alt=" 狀態樹 圖12"></a></p>
<p>圖12</p>
<p>最終，所有狀態樹如圖13，這0&#x2F;1背包問題答案為dp[4][10] &#x3D; 10。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/13.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/13.png" alt="狀態樹 圖13"></a></p>
<p>圖13</p>
<h5 id="3-2-迴圈版-Bottom-Up-動態規劃"><a href="#3-2-迴圈版-Bottom-Up-動態規劃" class="headerlink" title="3.2 迴圈版(Bottom-Up)動態規劃"></a>3.2 迴圈版(Bottom-Up)動態規劃</h5><p>和遞迴相反，Bottom-Up是從子問題的解答拼湊成大問題的解答，通常以迴圈實作，如下範例程式。<br>在執行函數bottom_up_01knapsack前，將變數dp都初始化為0，代表每種物品選擇與任何背包上限重的最大總價值都為0。函數參數 ：</p>
<ol>
<li>n: 物品總類數</li>
<li>curW: 背包的上限重量</li>
</ol>
<p>迴圈有2層, 最外層是0….n-1，代表先選擇1個物品；裡面那層是0….curW，代表當前的背包上限重量。<br>以下用圖片解說迴圈解題過程，一開始初始化的dp表格如圖14。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/1-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/1-1.png" alt=" 狀態樹 圖14"></a></p>
<p>圖14</p>
<p>在 i &#x3D; 0, j &#x3D; 2時，背包上限 j &gt;&#x3D; w[0]， 可以裝下金幣，所以dp[1][2] &#x3D; max(dp[0][2], dp[0][2 - 2] + 5) &#x3D; 5，直到 j &#x3D; 10都是一樣條件，如圖15至圖17，已經計算完在挑選第1種物品後的最佳解。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/2-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/2-1.png" alt="狀態樹 圖15"></a></p>
<p>圖15</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-6.png"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-6.png" alt="狀態樹 圖16"></a></p>
<p>圖16</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-7.png"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-7.png"></a></p>
<p>圖17</p>
<p>接著選擇藥水，在 i &#x3D; 1， j &lt;&#x3D; 2時，都是未達背包上限重而不能選擇藥水的最佳解，如圖18。  </p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-8.png"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-8.png"></a></p>
<p>圖18</p>
<p>到了 j &#x3D; 3，可以背包上限可選擇藥水，所以dp[2][3] &#x3D; max(dp[1][3], dp[1][3-3] + 3) &#x3D; max(5, 3) &#x3D; 5，仍是以沒選擇藥水為最佳解，如圖19。</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-9.png"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-9.png"></a></p>
<p>圖19</p>
<p>到了 j &#x3D; 5，背包可以裝金幣和藥水，因此dp[2][5] &#x3D; max(dp[1][5], dp[1][5-3]+3) &#x3D; max(5, 5 + 3) &#x3D; 8，之後 j &#x3D; 6~10也是如此，如圖20與圖21。  </p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-10.png"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-10.png"></a></p>
<p>圖20</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image.jpeg"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image.jpeg"></a></p>
<p>圖21</p>
<p>接著選擇書本，在 i &#x3D; 2， j &lt;&#x3D; 4時，都是未達背包上限重而不能選擇書本的最佳解，如圖22。</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-1.jpeg"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-1.jpeg"></a></p>
<p>圖22</p>
<p>到了 j &#x3D; 5，可以背包上限可選擇書本，所以dp[3][5] &#x3D; max(dp[2][5], dp[2][5-5] + 2) &#x3D; max(8, 2) &#x3D; 8，仍是以沒選擇書本為最佳解，如圖23。</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-2.jpeg"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-2.jpeg"></a></p>
<p>圖23</p>
<p>到了 j &#x3D; 7，背包可以裝金幣和書本，因此dp[3][7] &#x3D; max(dp[2][7], dp[2][7-5]+2) &#x3D; max(8, 5 + 2) &#x3D; 7，仍是金幣和藥水組合為最佳解，之後 j &#x3D; 8~9也是如此，如圖24。</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-3.jpeg"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-3.jpeg"></a></p>
<p>圖24</p>
<p>到了 j &#x3D; 10，dp[3][10] &#x3D; max(dp[2][10], dp[2][10-5]+2) &#x3D; max(8, 8 + 2) &#x3D; 10，金幣、藥水與書本組合為最佳解，如圖25。</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-4.jpeg"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-4.jpeg"></a></p>
<p>圖25</p>
<p>接著選擇木劍，在 i &#x3D; 3， j &lt;&#x3D; 5時，都是未達背包上限重而不能選擇木劍的最佳解，如圖26。</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-5.jpeg"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-5.jpeg"></a></p>
<p>圖26</p>
<p>到了 j &#x3D; 6，可以背包上限可選擇木劍，所以dp[4][6] &#x3D; max(dp[3][6], dp[3][6-6] + 4) &#x3D; max(8, 4) &#x3D; 8，仍是以沒選擇木劍為最佳解，如圖27。</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-6.jpeg"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-6.jpeg"></a></p>
<p>圖27</p>
<p>到了 j &#x3D; 8，背包可以裝金幣和木劍，因此dp[4][8] &#x3D; max(dp[3][8], dp[3][8-6]+4) &#x3D; max(8, 5 + 4) &#x3D; 9，金幣和木劍組合為最佳解，之後 j &#x3D; 9也是如此，如圖28。</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-7.jpeg"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-7.jpeg"></a></p>
<p>圖28</p>
<p>最後在 j &#x3D; 10，dp[4][10] &#x3D; max(dp[3][10], dp[3][10-6]+4) &#x3D; max(10, 5 + 4) &#x3D; 10，仍以金幣、藥水和書本組合為最佳解，也計算完所有條件的最佳解，回傳dp[4][10]，如圖29。</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-8.jpeg"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-8.jpeg"></a></p>
<p>圖29</p>
<h4 id="4-效能分析"><a href="#4-效能分析" class="headerlink" title="4. 效能分析"></a><strong>4. 效能分析</strong></h4><p>在尚未採用DP的方法之前，狀態樹會以2的N次方(選與不選)計算，時間複雜度會是O(2n)。<br>採用DP的方法，時間複雜度降低為O(NW)，且空間複雜度是O(NW)。<br>還有一種壓縮成1維陣列的DP狀態算法，後續會在講解。</p>
<p><strong>5. 心得</strong></p>
<p>很久沒在做DP之類的演算法題目，解題的靈感（壓）漸漸消失～～畫個圖做筆記，加深對演算法的印象。<br>之後沒意外，會繼續寫解題報告、應用開發的文章～參考文獻</p>
<ol>
<li>演算法筆記-Dynamic Programming 0&#x2F;1 Knapsack Problem　<a target="_blank" rel="noopener" href="http://www.csie.ntnu.edu.tw/~u91029/KnapsackProblem.html">http://www.csie.ntnu.edu.tw/~u91029&#x2F;KnapsackProblem.html</a></li>
<li>背包九講 - 01 背包问题 <a target="_blank" rel="noopener" href="https://github.com/tianyicui/pack">https://github.com/tianyicui/pack</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/04/03/uva-1598-exchange/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/03/uva-1598-exchange/" class="post-title-link" itemprop="url">UVa 1598 Exchange</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-03 15:37:00" itemprop="dateCreated datePublished" datetime="2020-04-03T15:37:00+08:00">2020-04-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C#</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ACM/" itemprop="url" rel="index"><span itemprop="name">ACM</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Level-Medium/" itemprop="url" rel="index"><span itemprop="name">Level-Medium</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BC%8F%E8%A7%A3%E9%A1%8C/" itemprop="url" rel="index"><span itemprop="name">程式解題</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ProgramSolving/" itemprop="url" rel="index"><span itemprop="name">ProgramSolving</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UVa/" itemprop="url" rel="index"><span itemprop="name">UVa</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>UVa 1598 Exchange 解題報告</p>
<h4 id="平台："><a href="#平台：" class="headerlink" title="平台："></a>平台：</h4><p>UVa Online Judge</p>
<h4 id="題號："><a href="#題號：" class="headerlink" title="題號："></a>題號：</h4><p>1598 - Exchange</p>
<h4 id="題目連結："><a href="#題目連結：" class="headerlink" title="題目連結："></a>題目連結：</h4><p><a target="_blank" rel="noopener" href="https://onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&page=show_problem&category=0&problem=4473">https://onlinejudge.org/index.php?option=com_onlinejudge&amp;Itemid&#x3D;8&amp;page&#x3D;show_problem&amp;category&#x3D;0&amp;problem&#x3D;4473</a></p>
<h4 id="題目說明："><a href="#題目說明：" class="headerlink" title="題目說明："></a>題目說明：</h4><p>一個商品競標的平台，會有買方與賣方的出價。買方會有購買商品的數量和價格、賣方也會有販賣商品的數量和價格。<br>一開始會有N筆指令，其中有3種指令</p>
<ol>
<li>SELL 販賣的數量 販賣的價格</li>
<li>BUY 購買的數量 購買的價格</li>
<li>CANCEL 第Y筆的競標取消</li>
</ol>
<p>前2個指令BUY和SELL執行後，若有任一家的買方的價格大於或等於任一家賣方的價格，此時發生交易。交易的順序是依照輸入的報價順序，若前面的買／賣方商品已買／售完，則再換下一位買／賣方，直到任一家買方的價格小於任一家賣方的價格。<br>　　進行交易時都輸出</p>
<p>TRADE 交易的數量 交易的價格</p>
<p>交易的價格是依照觸發交易的反方價格，比如是買方的指令觸發交易，則交易價格是用賣方的最低價格。 如果目前指令為CANCEL，則第Y筆的競標指令要移除。</p>
<p>　　不管有無任何交易，每個指令結束後都要輸出</p>
<p>QUOTE 買方最高價格的總數量 買方最高價格 - 賣方最低價格的總數量 賣方最低價格</p>
<p>如果當前沒有任何買方在競標，則買方最高價格的總數量和買方最高價格都輸出0；如果當前沒有任何賣方在競標，則賣方最高價格的總數量和賣方最高價格分別輸出0 和 99999</p>
<h4 id="範例輸入："><a href="#範例輸入：" class="headerlink" title="範例輸入："></a>範例輸入：</h4><p>11<br>BUY 100 35<br>CANCEL 1<br>BUY 100 34<br>SELL 150 36<br>SELL 300 37<br>SELL 100 36<br>BUY 100 38<br>CANCEL 4<br>CANCEL 7<br>BUY 200 32<br>SELL 500 30</p>
<h4 id="範例輸出："><a href="#範例輸出：" class="headerlink" title="範例輸出："></a>範例輸出：</h4><p>QUOTE 100 35 - 0 99999<br>QUOTE 0 0 - 0 99999<br>QUOTE 100 34 - 0 99999<br>QUOTE 100 34 - 150 36<br>QUOTE 100 34 - 150 36<br>QUOTE 100 34 - 250 36<br>TRADE 100 36<br>QUOTE 100 34 - 150 36<br>QUOTE 100 34 - 100 36<br>QUOTE 100 34 - 100 36<br>QUOTE 100 34 - 100 36<br>TRADE 100 34<br>TRADE 200 32<br>QUOTE 0 0 - 200 30</p>
<h4 id="解題方法："><a href="#解題方法：" class="headerlink" title="解題方法："></a>解題方法：</h4><p>這模擬題使用5個資料結構。</p>
<ol>
<li>priority_queue&lt;int, vector<int>, less<int>&gt; buy_price : 用Priority Queue紀錄買方的最高價格</li>
<li>priority_queue&lt;int, vector<int>, greater<int>&gt; sell_price : 用Priority Queue紀錄賣方的最低價格</li>
<li>map&lt;int, vector<Exchange>&gt; buy_price_map_size : 買方每種價格的數量列表</li>
<li>map&lt;int, vector<Exchange>&gt; sell_price_map_size : 賣方每種價格的數量列表</li>
<li>BuySell buySell[10005] : 紀錄指令是否為買&#x2F;賣方和價格</li>
</ol>
<p>struct Exchange<br>{<br>int index;<br>int s;<br>};<br>Exchange的index是指令的順序、s是數量  </p>
<p>struct BuySell<br>{<br>bool isBuy;<br>int price;<br>};<br>isBuy為是否為買&#x2F;賣方、price是這買&#x2F;賣方的價格  </p>
<p>用圖說明範例測資的運作流程. 圖1為尚未有任何指令的狀態。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/1-3.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/1-2.png" alt="UVa 1598 Exchange 圖1"></a></p>
<p>圖1</p>
<p>接著指令BUY 100 35，代表買方出購買數量100且價錢35，將buy_price新增35、buy_price_map_size新增價錢35對應數量100，輸出目前的競標狀態，如圖2。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/2-3.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/2-2.png" alt="UVa 1598 Exchange 圖2"></a></p>
<p>圖2</p>
<p>接著指令CANCEL 1，取消剛那一筆BUY 100 35的競標指令，buy_price與buy_price_map_size會被清空，輸出目前的競標狀態，如圖3。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/3-2.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/3-1.png" alt="UVa 1598 Exchange 圖3"></a></p>
<p>圖3</p>
<p>接著指令BUY 100 34，代表買方出購買數量100且價錢34，將buy_price新增34、buy_price_map_size新增價錢34對應數量100，輸出目前的競標狀態，如圖4。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/4-2.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/4-1.png" alt="UVa 1598 Exchange 圖4"></a></p>
<p>圖4</p>
<p>接著指令SELL 150 36，代表賣方出販售數量150且價錢36，將sell_price新增36、sell_price_map_size新增價錢36對應數量150，輸出目前的競標狀態，如圖5。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/5-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/5-1.png" alt="UVa 1598 Exchange 圖5"></a></p>
<p>圖5</p>
<p>接著指令SELL 300 37，代表賣方出販售數量300且價錢37，將sell_price新增37、sell_price_map_size新增價錢37對應數量300，輸出目前的競標狀態，如圖6。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/6-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/6-1.png" alt="UVa 1598 Exchange 圖6"></a></p>
<p>圖6</p>
<p>接著指令SELL 100 36，代表賣方出販售數量100且價錢36，將sell_price已經存在36的價格所以不變，而sell_price_map_size新增價錢36對應數量100，輸出目前的競標狀態，其中賣家價錢36對應的總數量為150 + 100 &#x3D; 250，如圖7。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/7-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/7-1.png" alt="UVa 1598 圖7"></a></p>
<p>圖7</p>
<p>接著指令BUY 100 38，代表買方出購買數量100且價錢38，將buy_price新增38、buy_price_map_size新增價錢38對應數量100。<br>此時buy_price的Top 大於 sell_price的Top，進行交易，賣方index &#x3D; 3的那筆先賣給買方index &#x3D; 6，index 3將剩下數量50，而買方價錢38已都買到，移除該筆買方競標價格。<br>先輸出交易價格36元(是買方觸發交易，所以是賣方的價格)和數量100，再輸出目前的競標狀態，如圖8與圖9。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/8-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/8-1.png" alt="UVa 1598 圖8"></a></p>
<p>圖8</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/9-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/9-1.png" alt="UVa 1598 圖9"></a></p>
<p>圖9</p>
<p>接著指令CANCEL 4，取消那一筆SELL 150 36的競標指令，sell_price_map_size會移除index &#x3D; 3的item，而sell_price仍保持不變，輸出目前的競標狀態，如圖10與圖11。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/10-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/10-1.png" alt="UVa 1598 圖10"></a></p>
<p>圖10</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/11-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/11-1.png" alt="UVa 1598 圖11"></a></p>
<p>圖11</p>
<p>接著指令CANCEL 7，取消那一筆BUY 100 38的競標指令，但buy_price已不存在這筆價錢，所以沒任何異動，輸出目前的競標狀態，如圖12。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/12-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/12-1.png" alt="圖12"></a></p>
<p>圖12</p>
<p>接著指令BUY 200 32，代表買方出購買數量200且價錢32，將buy_price新增32、buy_price_map_size新增價錢32對應數量200，輸出目前的競標狀態，如圖13。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/25E5259C259613.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/25E5259C259613.png" alt="圖13"></a></p>
<p>圖13</p>
<p>接著指令SELL 500 30，代表賣方出販售數量500且價錢30，將sell_price新增30、sell_price_map_size新增價錢30對應數量500。 此時buy_price的Top 大於 sell_price的Top，進行交易，賣方index &#x3D; 10的那筆先賣給買方index &#x3D; 2，index 10將剩下數量400，而買方價錢34已都買到，移除該筆買方競標價格。 輸出交易價格34元(是賣方觸發交易，所以是買方的價格)和數量100。  buy_price的Top 仍大於 sell_price的Top，進行交易，賣方index &#x3D; 10的那筆先賣給買方index &#x3D; 9，index 10將剩下數量200，而買方價錢32已都買到，移除該筆買方競標價格。</p>
<p>輸出交易價格32元(仍是賣方觸發交易，所以是買方的價格)和數量200，再輸出目前的競標狀態，如圖14至圖16。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/14.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/14.png" alt="圖14"></a></p>
<p>圖14</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/15.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/15.png" alt="圖15"></a></p>
<p>圖15</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/16.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/16.png" alt="圖16"></a></p>
<p>圖16</p>
<p>難度為Medium</p>
<h4 id="GITHUB位置："><a href="#GITHUB位置：" class="headerlink" title="GITHUB位置："></a>GITHUB位置：</h4><p><a target="_blank" rel="noopener" href="https://github.com/u8989332/ProblemSolving/blob/master/UVaOnlineJudge/1500-1599/1598.cpp">https://github.com/u8989332/ProblemSolving/blob/master/UVaOnlineJudge/1500-1599/1598.cpp</a></p>
<h4 id="UVa-1598-Exchange"><a href="#UVa-1598-Exchange" class="headerlink" title="UVa 1598 Exchange"></a>UVa 1598 Exchange</h4>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/24/uva-822-queue-and-a/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/24/uva-822-queue-and-a/" class="post-title-link" itemprop="url">UVa 822 Queue and A</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-24 07:27:00" itemprop="dateCreated datePublished" datetime="2020-03-24T07:27:00+08:00">2020-03-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C#</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ACM/" itemprop="url" rel="index"><span itemprop="name">ACM</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Level-Medium/" itemprop="url" rel="index"><span itemprop="name">Level-Medium</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BC%8F%E8%A7%A3%E9%A1%8C/" itemprop="url" rel="index"><span itemprop="name">程式解題</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ProgramSolving/" itemprop="url" rel="index"><span itemprop="name">ProgramSolving</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UVa/" itemprop="url" rel="index"><span itemprop="name">UVa</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>UVa 822 Queue and A 解題報告</p>
<h4 id="平台："><a href="#平台：" class="headerlink" title="平台："></a>平台：</h4><p>UVa Online Judge</p>
<h4 id="題號："><a href="#題號：" class="headerlink" title="題號："></a>題號：</h4><p>822 - Queue and A</p>
<h4 id="題目連結："><a href="#題目連結：" class="headerlink" title="題目連結："></a>題目連結：</h4><p><a target="_blank" rel="noopener" href="https://onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&page=show_problem&category=0&problem=763">https://onlinejudge.org/index.php?option=com_onlinejudge&amp;Itemid&#x3D;8&amp;page&#x3D;show_problem&amp;category&#x3D;0&amp;problem&#x3D;763</a></p>
<h4 id="題目說明："><a href="#題目說明：" class="headerlink" title="題目說明："></a>題目說明：</h4><p>有N種客服請求，同1種請求包含獨立ID、數量、第1個請求的起始時間、每個請求要花費處理的時間、請求之間的間隔時間。<br>接著有M位客服，每位客服包含獨立ID、可處理的客服請求種類。請求種類以輸入的ID順序做處理。<br>假如同時有多位客服能處理同1種請求，則以ID最小的優先處理。<br>時間的單位都是分鐘。<br>求全部的客服請求處理完所花費的時間。</p>
<h4 id="範例輸入："><a href="#範例輸入：" class="headerlink" title="範例輸入："></a>範例輸入：</h4><p>3<br>128 20 0 5 10<br>134 25 5 6 7<br>153 30 10 4 5<br>4<br>10 2 128 134<br>11 1 134<br>12 2 128 153<br>13 1 153<br>0</p>
<h4 id="範例輸出："><a href="#範例輸出：" class="headerlink" title="範例輸出："></a>範例輸出：</h4><p>Scenario 1: All requests are serviced within 195 minutes.</p>
<h4 id="解題方法："><a href="#解題方法：" class="headerlink" title="解題方法："></a>解題方法：</h4><p>原先想的方法是從0分鐘開始，不斷累加1分鐘去算當前請求處理的進度，但覺得這會太慢．．．<br>於是看到別人的方法<a target="_blank" rel="noopener" href="https://www.cnblogs.com/mofushaohua/p/7789412.html">https://www.cnblogs.com/mofushaohua/p/7789412.html</a>，這方法主要是以客服能或不能處理請求的時間點，做為下次檢查的時間戳記，且幅度較大，比起累加1還要快。詳細邏輯請看程式的註解。  </p>
<p>難度為Medium</p>
<h4 id="GITHUB位置："><a href="#GITHUB位置：" class="headerlink" title="GITHUB位置："></a>GITHUB位置：</h4><p><a target="_blank" rel="noopener" href="https://github.com/u8989332/ProblemSolving/blob/master/UVaOnlineJudge/800-899/822.cpp">https://github.com/u8989332/ProblemSolving/blob/master/UVaOnlineJudge/800-899/822.cpp</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/20/uva-511-do-you-know-the-way-to-san-jose/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/20/uva-511-do-you-know-the-way-to-san-jose/" class="post-title-link" itemprop="url">UVa 511 Do You Know the Way to San Jose?</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-20 22:16:00" itemprop="dateCreated datePublished" datetime="2020-03-20T22:16:00+08:00">2020-03-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C#</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ACM/" itemprop="url" rel="index"><span itemprop="name">ACM</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Level-Easy/" itemprop="url" rel="index"><span itemprop="name">Level-Easy</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BC%8F%E8%A7%A3%E9%A1%8C/" itemprop="url" rel="index"><span itemprop="name">程式解題</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ProgramSolving/" itemprop="url" rel="index"><span itemprop="name">ProgramSolving</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UVa/" itemprop="url" rel="index"><span itemprop="name">UVa</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>UVa 511 Do You Know the Way to San Jose? 解題報告</p>
<h4 id="平台："><a href="#平台：" class="headerlink" title="平台："></a>平台：</h4><p>UVa Online Judge</p>
<h4 id="題號："><a href="#題號：" class="headerlink" title="題號："></a>題號：</h4><p>511 - Do You Know the Way to San Jose?</p>
<h4 id="題目連結："><a href="#題目連結：" class="headerlink" title="題目連結："></a>題目連結：</h4><p><a target="_blank" rel="noopener" href="https://onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=24&page=show_problem&problem=452">https://onlinejudge.org/index.php?option=com_onlinejudge&amp;Itemid&#x3D;8&amp;category&#x3D;24&amp;page&#x3D;show_problem&amp;problem&#x3D;452</a></p>
<h4 id="題目說明："><a href="#題目說明：" class="headerlink" title="題目說明："></a>題目說明：</h4><p>以MAPS開頭，接著有N張地圖，每張地圖都有1個名字和對角座標(x1, y1)與(x2, y2)；以LOCATIONS開頭，接著有M個地點，每個地點有1個座標(x, y)；以REQUESTS開頭，最後有W個查詢，每個查詢包含1個地點和1個desired detail level。desired detail level定義是指包含此查詢地點的地圖集合，求地圖面積為第level個大。<br>　　查詢結果有4種，分別是</p>
<ol>
<li>地點不在LOCATIONS裡，輸出unknown location</li>
<li>地點不在任何地圖裡，輸出no map contains that location</li>
<li>包含此地點的地圖少於desired detail level，則輸出面積最小的那張地圖 no map at that detail level; using 地圖名</li>
<li>輸出面積第level大的地圖名 using 地圖名</li>
</ol>
<p>　　如果有出現前面3種差異性，則依新增、移除、有更新的順序輸出細節，後面的key值一字典排序；若沒任一前3種差異性，則輸出No changes。　<br>　　以範例測資第1筆，多了d和ee的key、少了b和f的key、c的值從10變成5。</p>
<h4 id="範例輸入："><a href="#範例輸入：" class="headerlink" title="範例輸入："></a>範例輸入：</h4><p>MAPS<br>BayArea -6.0 12.0 -11.0 5.0<br>SantaClara 4.0 9.0 -3.5 2.5<br>SanJoseRegion -3.0 10.0 11.0 3.0<br>CenterCoast -5.0 11.0 1.0 -8.0<br>SanMateo -5.5 4.0 -12.5 9.0<br>NCalif -13.0 -7.0 13.0 15.0<br>LOCATIONS<br>Monterey -4.0 2.0<br>SanJose -1.0 7.5<br>Fresno 7.0 0.1<br>SanFrancisco -10.0 8.6<br>SantaCruz -4.0 2.0<br>SanDiego 13.8 -19.3<br>REQUESTS<br>SanJose 3<br>SanFrancisco 2<br>Fresno 2<br>Stockton 1<br>SanDiego 2<br>SanJose 4<br>SantaCruz 3<br>END</p>
<h4 id="範例輸出："><a href="#範例輸出：" class="headerlink" title="範例輸出："></a>範例輸出：</h4><p>SanJose at detail level 3 using SanJoseRegion<br>SanFrancisco at detail level 2 using BayArea<br>Fresno at detail level 2 no map at that detail level; using NCalif<br>Stockton at detail level 1 unknown location<br>SanDiego at detail level 2 no map contains that location<br>SanJose at detail level 4 using SantaClara<br>SantaCruz at detail level 3 no map at that detail level; using CenterCoast</p>
<h4 id="解題方法："><a href="#解題方法：" class="headerlink" title="解題方法："></a>解題方法：</h4><p>　　模擬題，使用2種資料結構：</p>
<ol>
<li>map&lt;string, MyMap&gt; areas： 地圖名稱對應詳細資料，包含地圖名、對角座標與面積</li>
<li>map&lt;string, MyLocation&gt; locations：地點名稱對應詳細資料，包含座標位置</li>
</ol>
<p>struct MyMap{<br>double x1, y1, x2, y2;<br>double area;<br>string name;<br>};  </p>
<p>struct MyLocation{<br>double x, y;<br>};  </p>
<p>每1筆查詢先比對locations是否有該地點、再比對areas是否有地圖包含它。</p>
<p>難度為Easy</p>
<h4 id="GITHUB位置："><a href="#GITHUB位置：" class="headerlink" title="GITHUB位置："></a>GITHUB位置：</h4><p><a target="_blank" rel="noopener" href="https://github.com/u8989332/ProblemSolving/blob/master/UVaOnlineJudge/500-599/511.cpp">https://github.com/u8989332/ProblemSolving/blob/master/UVaOnlineJudge/500-599/511.cpp</a></p>
<p>UVa 511 Do You Know the Way to San Jose?</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/20/uva-12504-updating-a-dictionary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/20/uva-12504-updating-a-dictionary/" class="post-title-link" itemprop="url">UVa 12504 Updating a Dictionary</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-20 21:45:00" itemprop="dateCreated datePublished" datetime="2020-03-20T21:45:00+08:00">2020-03-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C#</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ACM/" itemprop="url" rel="index"><span itemprop="name">ACM</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Level-Easy/" itemprop="url" rel="index"><span itemprop="name">Level-Easy</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BC%8F%E8%A7%A3%E9%A1%8C/" itemprop="url" rel="index"><span itemprop="name">程式解題</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ProgramSolving/" itemprop="url" rel="index"><span itemprop="name">ProgramSolving</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UVa/" itemprop="url" rel="index"><span itemprop="name">UVa</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>UVa 12504 Updating a Dictionary 解題報告</p>
<h4 id="平台："><a href="#平台：" class="headerlink" title="平台："></a>平台：</h4><p>UVa Online Judge</p>
<h4 id="題號："><a href="#題號：" class="headerlink" title="題號："></a>題號：</h4><p>12504 - Updating a Dictionary</p>
<h4 id="題目連結："><a href="#題目連結：" class="headerlink" title="題目連結："></a>題目連結：</h4><p><a target="_blank" rel="noopener" href="https://onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=24&page=show_problem&problem=3948">https://onlinejudge.org/index.php?option=com_onlinejudge&amp;Itemid&#x3D;8&amp;category&#x3D;24&amp;page&#x3D;show_problem&amp;problem&#x3D;3948</a></p>
<h4 id="題目說明："><a href="#題目說明：" class="headerlink" title="題目說明："></a>題目說明：</h4><p>給N組Key-Value的字典集合，每一組包含2個字典，求第1個變成第2個的差異性。差異性包含</p>
<ol>
<li>新增Key，輸出前面加上 + 號，後續接著key值，多筆用, 逗點隔開</li>
<li>移除Key，輸出前面加上 - 號，後續接著key值，多筆用, 逗點隔開</li>
<li>同一個Key的Value有更新，輸出前面加上 * 號，後續接著key值，多筆用, 逗點隔開</li>
<li>無任何變化</li>
</ol>
<p>如果有出現前面3種差異性，則依新增、移除、有更新的順序輸出細節，後面的key值一字典排序；若沒任一前3種差異性，則輸出No changes。　<br>以範例測資第1筆，多了d和ee的key、少了b和f的key、c的值從10變成5。</p>
<h4 id="範例輸入："><a href="#範例輸入：" class="headerlink" title="範例輸入："></a>範例輸入：</h4><p>3<br>{a:3,b:4,c:10,f:6}<br>{a:3,c:5,d:10,ee:4}<br>{x:1,xyz:123456789123456789123456789}<br>{xyz:123456789123456789123456789,x:1}<br>{first:1,second:2,third:3}<br>{third:3,second:2}</p>
<h4 id="範例輸出："><a href="#範例輸出：" class="headerlink" title="範例輸出："></a>範例輸出：</h4><p>+d,ee<br>-b,f<br>*c  </p>
<p>No changes  </p>
<p>-first</p>
<h4 id="解題方法："><a href="#解題方法：" class="headerlink" title="解題方法："></a>解題方法：</h4><p>需要用2種資料結構，分別存字典前與後的內容：</p>
<ol>
<li>set<string> keys_1&#x2F;keys_2: 只存key</li>
<li>map&lt;string, string&gt; maps_1&#x2F;maps_2：存Kev-Value</li>
</ol>
<p>用STL內建的set_difference判斷是否有新增、移除Key，而set_intersection判斷未變化的Key，若有未變化的Key再比對Value是否有變化。<br>難度為Easy</p>
<h4 id="GITHUB位置："><a href="#GITHUB位置：" class="headerlink" title="GITHUB位置："></a>GITHUB位置：</h4><p><a target="_blank" rel="noopener" href="https://github.com/u8989332/ProblemSolving/blob/master/UVaOnlineJudge/12000-12099/12054.cpp">https://github.com/u8989332/ProblemSolving/blob/master/UVaOnlineJudge/12000-12099/12054.cpp</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/9/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/11/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">LiJyu Gao</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">206</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">49</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LiJyu Gao</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
