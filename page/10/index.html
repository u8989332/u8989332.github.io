<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="GeekCodeParadise">
<meta property="og:url" content="http://example.com/page/10/index.html">
<meta property="og:site_name" content="GeekCodeParadise">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="LiJyu Gao">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/10/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>GeekCodeParadise</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">GeekCodeParadise</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/05/12/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98-professional-javascript-for-web-developers-%E7%AC%AC2%E7%AB%A0-%E5%9C%A8html%E4%B8%AD%E4%BD%BF%E7%94%A8javascript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/12/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98-professional-javascript-for-web-developers-%E7%AC%AC2%E7%AB%A0-%E5%9C%A8html%E4%B8%AD%E4%BD%BF%E7%94%A8javascript/" class="post-title-link" itemprop="url">[讀書筆記] Professional JavaScript for Web Developers - 第2章 在HTML中使用JavaScript</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-12 07:49:00" itemprop="dateCreated datePublished" datetime="2020-05-12T07:49:00+08:00">2020-05-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98/" itemprop="url" rel="index"><span itemprop="name">讀書筆記</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-1-Element"><a href="#1-1-Element" class="headerlink" title="1.1  Element"></a>1.1 <script> Element</h2><ul>
<li>最早是Netscape實作, 後來HTML才加入它為規範之一</li>
<li>有8種屬性</li>
</ul>
<p>1. async: 可選, 代表立即下載該腳本, 但不影響頁面其他的動作(ex: 載入其他的腳本), 只能用在外部腳本.<br>2. charset: 可選, 指定src所指的字元集, 但現在很少使用<br>3. crossorigin: 可選, 設定request的CORS, 預設CORS不使用. 如果是 crossorigin="anonymous", 不會帶入credential標記; 如果是 crissirugub="use-credentials", 將設credential標記, request帶著credentials. </p>
<p>在MDN有一段很詳細的解釋:</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/crossorigin">https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/crossorigin</a></p>
<p>實驗: </p>
<p>在開一個本機端建立一個html, <script>代一個jQuery的cdn連結:</p>
<p><strong>anonymous</strong>: CORS requests for this element will have the credentials flag set to 'same-origin'. </p>
<p>在Chrome DevTool可看見 Request header多帶了 Origin參數</p>
<p><strong>use-credentials</strong>: CORS requests for this element will have the credentials flag set to 'include'. </p>
<p>在Chrome DevTool的console會有error : </p>
<p>Access to script at '<a target="_blank" rel="noopener" href="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js</a>' from origin '<a target="_blank" rel="noopener" href="https://cdpn.io/">https://cdpn.io</a>' has been blocked by CORS policy: The value of the 'Access-Control-Allow-Origin' header in the response must not be the wildcard '*' when the request's credentials mode is 'include'.  </p>
<p>也代表Client和Server都要有同Domain.</p>
<p>4. defer: 可選, 可延遲到頁面被完全解析與載入後再執行此腳本, 只能用在外部腳本.</p>
<p>5. integrity: 可選, 驗證Subresource Integrity (SRI)(比如 CDN的資源)的簽名和此屬性有無相符. 沒有相符則此script不會執行.</p>
<p>假如有個CDN腳本連結: <script src="<a href="https://example.com/example-framework.js">https://example.com/example-framework.js</a>"</p>
<p>        integrity="sha384-oqVuAfXRKap7fdgcCY5uykM6+R9GqQ8K/uxy9rx7HNQlGYl1kPzQho1wx4JwY8wC"></script></p>
<p>可知道是用sha384做hash而得到oqVuAfXRKap7fdgcCY5uykM6+R9GqQ8K&#x2F;uxy9rx7HNQlGYl1kPzQho1wx4JwY8wC的base64字串, 則瀏覽器會對文檔做同樣sha384 hash且輸出base64, 檢查是否和CDN提供的一樣.</p>
<p>6. language: 不推薦使用, 指定腳本的語言, 比如”JavaScript”, 但現代瀏覽器不會看此屬性.</p>
<p>7. src: 可選, 指定要執行程式碼的外部檔案.</p>
<p>8. type: 可選, 指的是內文類型(也就是MIME類型), 用來取代language屬性. 早期都是”text&#x2F;javascript”. 現代也能用”module”值, 代表是ES6模組, 只能用在import&#x2F;export.</p>
<ul>
<li><script>的使用方式有2種: 在頁面嵌入外部js檔案和在<script>裡寫JS程式碼 (Inline)</li>
<li><script>是從上而下執行</li>
<li>當<script>內部執行完之前, 頁面其他內容不會載入/顯示</li>
<li>別任意出現</script>字串, 比如下方sayScript, 將被瀏覽器直譯為結束<script></li>
</ul>
<script>  
function sayScript() {  
console.log("</script>");  
<p>}<br></script>    </p>
<ul>
<li>所以要改成跳脫符號 來解決 :  console.log(“</script>“);</li>
<li>若要載入外部JS檔案, 則必須用src屬性.</li>
<li>XHTML的<script src="..."></script>結尾可簡化 : &lt;script src&#x3D;”example.js &#x2F;&gt;   , 一般HTML頁面不行.</li>
<li>瀏覽器不會檢查<script src="...">的副檔名.</li>
<li>在已經有src的<script>裡還加Inline JS語法, 仍只會執行載入外部檔案的功能.</li>
<li>除了async和defer的屬性, <script>的執行順序都是從上而下依次進行.</li>
</ul>
<h3 id="1-1-1-Tag-Placement"><a href="#1-1-1-Tag-Placement" class="headerlink" title="1.1.1 Tag Placement"></a>1.1.1 Tag Placement</h3><ul>
<li>早期都把<script src="...">放在<head>  .</li>
<li>但現在JS數量/功能越多, 變成先執行大量JS而頁面body還沒執行, 將會是一段時間都空白.</li>
<li>現代Web建議把<script>放在</body>結尾之前, 讓頁面先呈現東西.</li>
</ul>
<h3 id="1-1-2-Deferred-Scripts"><a href="#1-1-2-Deferred-Scripts" class="headerlink" title="1.1.2 Deferred Scripts"></a>1.1.2 Deferred Scripts</h3><ul>
<li>HTML 4.01導入defer屬性, 使外部JS檔案可以先下載, 但會在DOM完成後、DOMContentLoaded事件之前的中間時間做執行檔案的程式碼</li>
<li>使用defer的順序跟後續執行的順序照理一樣, 但並不總是這樣.</li>
<li>基於HTML5規範, defer用在Inline code不會起作用</li>
<li>在XHTML裡, 要用defer的寫法為 <script defer="defer"></script></li>
</ul>
<h3 id="1-1-3-Asynchronous-Scripts"><a href="#1-1-3-Asynchronous-Scripts" class="headerlink" title="1.1.3 Asynchronous Scripts"></a>1.1.3 Asynchronous Scripts</h3><h2 id=""><a href="#" class="headerlink" title=""></a></h2><ul>
<li>HTML5定義async屬性, 只能用在外部JS檔案, 功能是不讓頁面等待檔案的下載和執行.</li>
<li>和defer不同, 執行的順序不保證. 因此多個async的檔案之間不要有相依性.</li>
<li>async的腳本別在載入時期做DOM的修改</li>
<li>async腳本一定在頁面load之前執行, 但可能在DOMContentLoaded前或後執行.</li>
<li>在XHTML裡, 要用async的寫法為 <script async="async"><script></li>
</ul>
<h3 id="1-1-4-Dynamic-Script-Loading"><a href="#1-1-4-Dynamic-Script-Loading" class="headerlink" title="1.1.4 Dynamic Script Loading"></a>1.1.4 Dynamic Script Loading</h3><ul>
<li><script>元素可以透過JS動態建立
</li>
<li><p>行為預設和async一樣</p>
</li>
<li><p>範例寫法</p>
</li>
</ul>
<p>let script = document.createElement('script');<br>script.src = 'MyCode.js';<br>document.head.appendChild(script);    </p>
<ul>
<li>並不是所有瀏覽器都支援async, 可以改成script.async = false;</li>
</ul>
<h3 id="1-1-5-Changes-In-XHTML"><a href="#1-1-5-Changes-In-XHTML" class="headerlink" title="1.1.5 Changes In XHTML"></a>1.1.5 Changes In XHTML</h3><ul>
<li><p>Extensible HyperText Markup Language (XHTML) 是將HTML以XML方式來解析.</p>
</li>
<li><p>特殊案例, 比如有一段inline code 執行 if (a < b) , 由於< 是XML的element開頭, 會導致解析錯誤</p>
</li>
<li><p>解法1: 將< 或 >替換成HTML符號 &lt;  &gt;</p>
</li>
<li><p>解法2: 使用<![CDATA[ ...code .... ]]> </p>
</li>
<li><p>但有些瀏覽器仍不支援XHTML, 要再把使用<![CDATA[的功能註解</p>
</li>
<li><p>XHTML的MIME是 application/xhtml+xml</p>
</li>
</ul>
<h2 id="1-2-Inline-code-VS-External-File"><a href="#1-2-Inline-code-VS-External-File" class="headerlink" title="1.2 Inline code VS External File"></a>1.2 Inline code VS External File</h2><ul>
<li>盡可能使用外部檔案, 好處有</li>
</ul>
<ol>
<li><p>可維護性</p>
</li>
<li><p>可緩存</p>
</li>
<li><p>Future-proof(適應未來): HTML和XHTML都能用外部檔案, 避免有inline的code有的要註解、有的要加特殊語法</p>
</li>
</ol>
<ul>
<li>支援 SPDY/HTTP2的瀏覽器, 可以對外部檔案做cache, 提供別的頁面重複使用.比如A頁面請求 a.js, b.js, B頁面請求b.js, c.js, 當A頁面載入後會cache a.js, b.js, 而開B頁面時會因為有cache b.js而直接用, 節省請求頻寬.</li>
</ul>
<h2 id="1-3-Document-Modes"><a href="#1-3-Document-Modes" class="headerlink" title="1.3 Document Modes"></a>1.3 Document Modes</h2><ul>
<li>IE 5.5導入文件模式, 是依照doctype的切換來實作.</li>
<li>有quirks mode和standards mode, quirks mode會讓IE執行IE5的的行為(且包含一些非標準的功能)、standards mode讓IE執行比較標準.</li>
<li>模式的差異會影響CSS、JS.</li>
<li>IE後來又推出 almost standards mode (!!??), 主要會影響圖片的呈現.</li>
<li>如果檔案開頭沒任何doctype, 則瀏覽器預設開啟quirks mode.</li>
<li>MDN有個連結, 提供很完整的doctype對應的模式  <a target="_blank" rel="noopener" href="https://hsivonen.fi/doctype/">https://hsivonen.fi/doctype/</a> , 而現行瀏覽器最常用的 standards mode <!DOCTYPE html> 是 HTML5.</li>
</ul>
<p> </p>
<h2 id="1-4-Element"><a href="#1-4-Element" class="headerlink" title="1.4  Element"></a>1.4 <noscript> Element</h2><ul>
<li>當瀏覽器不能使用JS時, 在<noscript>裡的非JS內容會被呈現.</li>
<li>不能使用的條件</li>
</ul>
<ol>
<li><p>瀏覽器不支援JS</p>
</li>
<li><p>瀏覽器支援JS但設定檔將它失效</p>
</li>
</ol>
<ul>
<li>如果瀏覽器正常能使用JS, 則<noscript>的內容不會呈現</li>
</ul>
<h2 id="2-參考資料"><a href="#2-參考資料" class="headerlink" title="2. 參考資料"></a>2. 參考資料</h2><ol>
<li>Professional JavaScript for Web Developers 4th Edition, Chapter 2 : Javascript In HTML, Matt Frisbie.</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/05/10/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98-professional-javascript-for-web-developers-%E7%AC%AC1%E7%AB%A0-javascript%E7%B0%A1%E4%BB%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/10/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98-professional-javascript-for-web-developers-%E7%AC%AC1%E7%AB%A0-javascript%E7%B0%A1%E4%BB%8B/" class="post-title-link" itemprop="url">[讀書筆記] Professional JavaScript for Web Developers - 第1章 JavaScript簡介</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-10 23:50:00" itemprop="dateCreated datePublished" datetime="2020-05-10T23:50:00+08:00">2020-05-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98/" itemprop="url" rel="index"><span itemprop="name">讀書筆記</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-1-JavaScript簡史"><a href="#1-1-JavaScript簡史" class="headerlink" title="1.1 JavaScript簡史"></a>1.1 JavaScript簡史</h2><ul>
<li>European Computer Manufacturers Association (ECMA)專門制定JS</li>
<li>ECMA-262為ECMAScript (發音 ek-ma-script)</li>
<li>ISO將ECMAScript採納為ISO&#x2F;IEC-16262, 瀏覽器開發商以此為標準實作JS的功能</li>
</ul>
<h2 id="1-2-JavaScript實作"><a href="#1-2-JavaScript實作" class="headerlink" title="1.2 JavaScript實作"></a>1.2 JavaScript實作</h2><ul>
<li>JS包含三大元素</li>
</ul>
<ol>
<li>核心 (ECMAScript)</li>
<li>Document Object Model (DOM)</li>
<li>Browser Object Model (BOM)</li>
</ol>
<ul>
<li>ECMAScript本身和瀏覽器無直接關係</li>
<li>瀏覽器只是Host environment, 可以執行ECMAScript的平台, 可以和DOM交互作用</li>
<li>其他Host environment包含Node.js、過時的Adobe Flash</li>
<li>ECMAScript定7大種功能</li>
</ul>
<ol>
<li>Syntax</li>
<li>Types</li>
<li>Statements</li>
<li>Keywords</li>
<li>Reversed words</li>
<li>Operators</li>
<li>Global objects</li>
</ol>
<h3 id="1-2-1-ECMAScript"><a href="#1-2-1-ECMAScript" class="headerlink" title="1.2.1 ECMAScript"></a>1.2.1 ECMAScript</h3><h4 id="1-2-1-1-ECMAScript的版本"><a href="#1-2-1-1-ECMAScript的版本" class="headerlink" title="1.2.1.1 ECMAScript的版本"></a>1.2.1.1 ECMAScript的版本</h4><ul>
<li>ECMAScript 3.1: 2009發布的第5版修改(ES5), 包含JSON解析與序列化、method的繼承等</li>
<li>ECMAScript 6: 2015第6版修改, 也稱為ES6、ES2015</li>
<li>ECMAScript 7: 2016第7版修改, 也稱為ES7、ES2016</li>
<li>ECMAScript 8: 2017第8版修改, 也稱為ES8、ES2017</li>
</ul>
<h4 id="1-2-1-2-ECMAScript的兼容性"><a href="#1-2-1-2-ECMAScript的兼容性" class="headerlink" title="1.2.1.2 ECMAScript的兼容性"></a>1.2.1.2 ECMAScript的兼容性</h4><ul>
<li>必須支援ECMAScript規範的types, values, objects, properties, functions, program syntax, program semantics</li>
<li>必須支援 Unicode字元集</li>
<li>可擴展額外的types, values, objects, properties, function</li>
<li>支援沒在ECMAScript定義的正規表達式語法</li>
</ul>
<h4 id="1-2-1-3-瀏覽器對ECMAScript的支援"><a href="#1-2-1-3-瀏覽器對ECMAScript的支援" class="headerlink" title="1.2.1.3 瀏覽器對ECMAScript的支援"></a>1.2.1.3 瀏覽器對ECMAScript的支援</h4><ul>
<li><p>IE 8不完整支援ES3 (才ES3!?), IE 9也不完整支援ES5 (!?), 直到IE 10以後版本才完整支援ES5, IE真是前端工程師的惡夢</p>
</li>
<li><p>Edge 12+有支援ES6</p>
</li>
<li><p>其他瀏覽器只要有更新, 別太擔心ES的版本啦~</p>
</li>
</ul>
<p> </p>
<h3 id="1-2-2-Document-Object-Model"><a href="#1-2-2-Document-Object-Model" class="headerlink" title="1.2.2 Document Object Model"></a>1.2.2 Document Object Model</h3><ul>
<li>對於XML&#x2F;HTML文件的API</li>
<li>每一層節點都可以剖析成樹狀圖</li>
<li>W3C規劃DOM的功能</li>
<li>最早DOM1核心是以XML做Mapping, 後來延伸HTML的DOM</li>
<li>不只是JS才有DOM, 其他程式語言也有實作</li>
<li>DOM2新增多個功能的Interfaces</li>
</ul>
<ol>
<li><p>DOM View:文件變化(比如CSS套用)前&#x2F;後的對照</p>
</li>
<li><p>DOM Events: 事件處理</p>
</li>
<li><p>DOM Style: 應用CSS</p>
</li>
<li><p>DOM Traversal and Range: 操作文件樹</p>
</li>
</ol>
<ul>
<li><p>DOM3新增 文件的新增、載入(DOM Load &amp; Save)、文件的驗證 (DOM Validation)</p>
</li>
<li><p>其他的DOM標準像是支援SVG、MathML數學標記、SMIL(Synchronized Multimedia Integration Language)</p>
</li>
<li><p>DOM1~3也是有區分瀏覽器版本的支援(!!??)</p>
</li>
</ul>
<h3 id="1-2-3-Browser-Object-Model"><a href="#1-2-3-Browser-Object-Model" class="headerlink" title="1.2.3 Browser Object Model"></a>1.2.3 Browser Object Model</h3><ul>
<li><p>BOM可以操作瀏覽器顯示頁面內文以外的東西</p>
</li>
<li><p>最早的BOM沒有規範</p>
</li>
<li><p>HTML5發布, 才將BOM寫入規範</p>
</li>
<li><p>常見擴展的功能</p>
</li>
</ul>
<ol>
<li><p>彈出新視窗</p>
</li>
<li><p>移動、縮放、關閉</p>
</li>
<li><p>瀏覽器詳細資訊的navigator物件</p>
</li>
<li><p>瀏覽器載入頁面的詳細資訊location物件</p>
</li>
<li><p>使用者視窗解析度screen物件</p>
</li>
<li><p>對cookie的支援</p>
</li>
<li><p>XMLHttpRequest和IE獨特的ActiveXObject物件</p>
</li>
</ol>
<h2 id="1-3-JavaScript版本"><a href="#1-3-JavaScript版本" class="headerlink" title="1.3 JavaScript版本"></a>1.3 JavaScript版本</h2><ul>
<li><p>只有Mozilla (前身Netscape)才有沿用JS的版本, 但也只有到1.8.5</p>
</li>
<li><p>歷史版本簡介: <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Archive/Web/JavaScript/New_in_JavaScript">https://developer.mozilla.org/en-US/docs/Archive/Web/JavaScript/New_in_JavaScript</a></p>
</li>
<li><p>現在大宗瀏覽器都以ECMAScript版本為主</p>
</li>
</ul>
<h2 id="2-與書本內容無關的個人心得"><a href="#2-與書本內容無關的個人心得" class="headerlink" title="2. 與書本內容無關的個人心得"></a>2. 與書本內容無關的個人心得</h2><p>      這陣子在考慮軟體開發的職涯，雖然寫了5年ASP.NET，但對於[JavaScript]仍不是熟悉，可能是太依賴jQuery或SPA框架而導致原生JS知識較生疏，於是勉勵自己要把JS的經典書讀完加做筆記，希望之後開發Web系統更加完善。</p>
<h2 id="3-參考資料"><a href="#3-參考資料" class="headerlink" title="3. 參考資料"></a>3. 參考資料</h2><ol>
<li>Professional JavaScript for Web Developers 4th Edition, Chapter 1 : What Is Javascript? , Matt Frisbie.</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/05/01/poj-3624-charm-bracelet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/01/poj-3624-charm-bracelet/" class="post-title-link" itemprop="url">POJ 3624 Charm Bracelet</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-01 16:50:00" itemprop="dateCreated datePublished" datetime="2020-05-01T16:50:00+08:00">2020-05-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C#</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ACM/" itemprop="url" rel="index"><span itemprop="name">ACM</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Level-Easy/" itemprop="url" rel="index"><span itemprop="name">Level-Easy</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BC%8F%E8%A7%A3%E9%A1%8C/" itemprop="url" rel="index"><span itemprop="name">程式解題</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ProgramSolving/" itemprop="url" rel="index"><span itemprop="name">ProgramSolving</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/POJ/" itemprop="url" rel="index"><span itemprop="name">POJ</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>POJ 3624 Charm Bracelet 解題報告</p>
<h4 id="平台："><a href="#平台：" class="headerlink" title="平台："></a>平台：</h4><p>PKU Online Judge</p>
<h4 id="題號："><a href="#題號：" class="headerlink" title="題號："></a>題號：</h4><p>3624 - Charm Bracelet</p>
<h4 id="題目連結："><a href="#題目連結：" class="headerlink" title="題目連結："></a>題目連結：</h4><p><a target="_blank" rel="noopener" href="http://poj.org/problem?id=3624">http://poj.org/problem?id=3624</a></p>
<h4 id="題目說明："><a href="#題目說明：" class="headerlink" title="題目說明："></a>題目說明：</h4><p>有一條手鍊，它可以串很多小飾物，商店內有 N (1 ≤ N ≤ 3,402) 種小飾物，每種小飾物數量只有1個，每種小飾物的重量為 Wi (1 ≤ Wi ≤ 400)、合意價值為Di (1 ≤ Di ≤ 100)。而手鍊能串小飾物的總負重為M (1 ≤ M ≤ 12,880)，求手鍊串小飾物在不超過它的總負重條件下，求合意價值最高的串法。</p>
<h4 id="範例輸入："><a href="#範例輸入：" class="headerlink" title="範例輸入："></a>範例輸入：</h4><p>4 6<br>1 4<br>2 6<br>3 12<br>2 7</p>
<h4 id="範例輸出："><a href="#範例輸出：" class="headerlink" title="範例輸出："></a>範例輸出：</h4><p>23</p>
<h4 id="解題方法："><a href="#解題方法：" class="headerlink" title="解題方法："></a>解題方法：</h4><p>經典的0&#x2F;1背包問題，用一般的動態規劃求解，可參考<a target="_blank" rel="noopener" href="https://geekcodeparadise.com/2020/04/algorithms-dynamic-programming-0-1-knapsack-problem/">Dynamic Programming - 0&#x2F;1 Knapsack Problem</a></p>
<p>難度為Easy</p>
<h4 id="GITHUB位置："><a href="#GITHUB位置：" class="headerlink" title="GITHUB位置："></a>GITHUB位置：</h4><p><a target="_blank" rel="noopener" href="https://github.com/u8989332/ProblemSolving/blob/master/PKUOnlineJudge/3600-3699/3624.cpp">https://github.com/u8989332/ProblemSolving/blob/master/PKUOnlineJudge/3600-3699/3624.cpp</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/05/01/algorithms-dynamic-programming-0-1-knapsack-problem-space-complexity-optimization/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/01/algorithms-dynamic-programming-0-1-knapsack-problem-space-complexity-optimization/" class="post-title-link" itemprop="url">[Algorithms] Dynamic Programming - 0/1 Knapsack Problem - Space Complexity Optimization</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-01 14:35:00" itemprop="dateCreated datePublished" datetime="2020-05-01T14:35:00+08:00">2020-05-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index"><span itemprop="name">Algorithms</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Dynamic-Programming/" itemprop="url" rel="index"><span itemprop="name">Dynamic Programming</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Knapsack-Problem/" itemprop="url" rel="index"><span itemprop="name">Knapsack Problem</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-問題說明"><a href="#1-問題說明" class="headerlink" title="1. 問題說明"></a>1. 問題說明</h2><p> 本篇是講解使用動態規劃(DP)解決0&#x2F;1背包問題的空間優化，而問題本身和範例請再查閱<a target="_blank" rel="noopener" href="http://glj8989332.blogspot.com/2020/04/algorithms-dynamic-programming-01-knapsackproblem.html">[Algorithms] Dynamic Programming - 0&#x2F;1 Knapsack Problem</a>。<br> 原本Bottom-Up動態規劃的解決方式，是需要空間複雜度O(NW)，但可以再優化，只需要O(W)的空間做狀態轉移的計算。  </p>
<h2 id="2-空間複雜度優化"><a href="#2-空間複雜度優化" class="headerlink" title="2. 空間複雜度優化"></a>2. 空間複雜度優化</h2><p> 原本空間複雜度O(NW)的二維度狀態dp[i][j]，優化成一維度的動態規劃，定義狀態，  </p>
<p>dp[j] : 從前i種物品選擇之後，背包重量不超過j的最大總價值</p>
<p> 這狀態很特別，會一直覆蓋掉之前的狀態，所以看不出目前是哪一種物品選擇。  </p>
<p> 而它的初始化  </p>
<p>dp[0…..W] &#x3D; 0，任何背包沒裝任何物品，所以總價值都是0</p>
<p> 狀態的轉移縮短成1種：在前i-1種物品選擇第i個物品或者不選擇第i個物品，因此它的狀態轉移程式為：<br>[dp[j] &#x3D;max(dp[j], dp[j-w_{i}] + v_{i}), w_{i} leq j]  </p>
<p> 在 wi&lt;&#x3D; j 的狀況，代表現在背包的重量足夠裝第i個物品，因此可以選擇它或不選擇它。但是因為只剩下一維度的狀態，在使用雙層迴圈的虛擬碼會是： [for ileftarrow 0 to N-1 for jleftarrow W to w_{i} dp[j] &#x3D;max(dp[j], dp[j-w_{i}] + v_{i})]  </p>
<p> 這段虛擬碼背後的二維度狀態轉移是<br>[dp[i][j] &#x3D;max(dp[i-1][j], v_{i} +dp[i-1][j-w_{i}]), w_{i}leq j]  </p>
<p> 不可以將j的執行順序從 wi to W，否則這樣會變成完全背包問題，二維度狀態轉移會是：<br>[dp[i][j] &#x3D;max(dp[i-1][j], v_{i} +dp[i][j-w_{i}]), w_{i}leq j]<br> 最後計算出的背包的最大總價值為dp[W]。  </p>
<h3 id="2-1-迴圈版-Bottom-Up-動態規劃"><a href="#2-1-迴圈版-Bottom-Up-動態規劃" class="headerlink" title="2.1 迴圈版(Bottom-Up)動態規劃"></a>2.1 迴圈版(Bottom-Up)動態規劃</h3><p> 以迴圈實作，如下範例程式。  </p>
<p> 在執行函數bottom_up_01knapsack_1d前，將變數dp都初始化為0，代表任何背包上限重的最大總價值都為0。函數參數 ：  </p>
<ol>
<li>n: 物品總類數</li>
<li>curW: 背包的上限重量</li>
</ol>
<p> 迴圈有2層, 最外層是0….n-1，代表先選擇1個物品；裡面那層是curW…wi，代表當前的背包上限重量。<br> 以下用圖片解說迴圈解題過程，一開始初始化的dp表格如圖1。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/1-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/05/1.png"></a></p>
<p>圖1</p>
<p> 在 i &#x3D; 0, j &#x3D; 10時，背包上限 j &gt;&#x3D; w[0]， 可以裝下金幣，所以dp[10] &#x3D; max(dp[10], dp[10 - 2] + 5) &#x3D; 5，直到 j &#x3D; 2都是一樣條件，如圖2，已經計算完在挑選第1種物品後的最佳解。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/2-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/05/2.png"></a></p>
<p>圖2</p>
<p> 接著選擇藥水，在 i &#x3D; 1， j &lt;&#x3D; 5時，都是金幣與藥水一起選為最佳解(5 + 3 &#x3D; 8)；但 3 &lt;&#x3D; j &lt;&#x3D; 4，只能選擇金幣或者藥水，所以只選金幣為最佳解(5)，如圖3與圖4。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/3-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/05/3.png"></a></p>
<p>圖3</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/4-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/05/4.png"></a></p>
<p>圖4</p>
<p> 接著選擇書本，在 i &#x3D; 2， j &#x3D; 10時，金幣、藥水與書本一起選為最佳解(5 + 3 + 2 &#x3D; 10)；但 7 &lt;&#x3D; j &lt;&#x3D; 9，有選擇書本和金幣的總價值(5 + 2 &#x3D; 7) 比金幣和藥水的總價值(5 + 3 &#x3D; 8)還少，維持總價值為8；在5 &lt;&#x3D; j &lt;&#x3D; 6，只能選擇書本的總價值(2)比金幣和藥水的總價值(5 + 3 &#x3D; 8)還少，維持總價值為8，如圖5與圖6。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/5-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/05/5.png"></a></p>
<p>圖5 </p>
<p><img src="http://geekcodeparadise.com/wp-content/uploads/2020/05/6.png"></p>
<p>圖6</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/6-1.png"></a><br><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/6-1.png"></a></p>
<p> 接著選擇木劍，在 i &#x3D; 3， j &#x3D; 10時，金幣與劍木的總價值(5 + 4 &#x3D; 9)比金幣、藥水與書本一起選的最佳解(5 + 3 + 2 &#x3D; 10)還少，所以維持總價值為10；但 8 &lt;&#x3D; j &lt;&#x3D; 9，有選擇木劍和金幣的總價值(5 + 4 &#x3D; 9) 比金幣和藥水的總價值(5 + 3 &#x3D; 8)還多，總價值更新為9；在6 &lt;&#x3D; j &lt;&#x3D; 7，只能選擇木劍的總價值(4)比金幣和藥水的總價值(5 + 3 &#x3D; 8)還少，維持總價值為8，如圖7至圖9。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/7-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/05/7.png"></a></p>
<p>圖7</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/8-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/05/8.png"></a></p>
<p>圖8</p>
<p> 計算完的狀態如圖10，最佳解為dp[W] &#x3D; dp[10] &#x3D; 10，它和二維度解法的dp[4][10]是相等的。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/05/10-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/05/10.png"></a></p>
<p>圖10</p>
<p><strong>3. 效能分析</strong>  </p>
<p> DP的時間複雜度仍是O(NW)，但空間複雜度只需O(W)。  </p>
<h2 id="參考文獻"><a href="#參考文獻" class="headerlink" title="參考文獻"></a>參考文獻</h2><ol>
<li>演算法筆記-0&#x2F;1 Knapsack Problem <a target="_blank" rel="noopener" href="http://www.csie.ntnu.edu.tw/~u91029/KnapsackProblem.html">http://www.csie.ntnu.edu.tw/~u91029&#x2F;KnapsackProblem.html</a></li>
<li>背包九講 - 01 背包问题  <a target="_blank" rel="noopener" href="https://github.com/tianyicui/pack">https://github.com/tianyicui/pack</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/04/18/algorithms-dynamic-programming-0-1-knapsack-problem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/18/algorithms-dynamic-programming-0-1-knapsack-problem/" class="post-title-link" itemprop="url">Dynamic Programming - 0/1 Knapsack Problem</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-18 15:45:00" itemprop="dateCreated datePublished" datetime="2020-04-18T15:45:00+08:00">2020-04-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index"><span itemprop="name">Algorithms</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Dynamic-Programming/" itemprop="url" rel="index"><span itemprop="name">Dynamic Programming</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Knapsack-Problem/" itemprop="url" rel="index"><span itemprop="name">Knapsack Problem</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Dynamic Programming - 0&#x2F;1 Knapsack Problem</p>
<h4 id="1-問題說明"><a href="#1-問題說明" class="headerlink" title="1. 問題說明"></a>1. 問題說明</h4><p> 0&#x2F;1背包問題(Knapsack Problem)的描述：有1個背包可以裝上限W的總重量，從N種物品挑進這背包裡。每1種物品有各自的價值vi(0 ≤ i ≤ N - 1) 和重量wi(0 ≤ i ≤ N - 1)。每1種物品的數量只有1個，求不超過背包總重量，這些物品裝進背包的最高價值。  </p>
<p>以遊戲角色取寶物的狀況作為說明:</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/backpack.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/backpack.png" alt="0/1 Knapsack Problem 背包"></a></p>
<p>背包上限W &#x3D; 10</p>
<p>寶物共4種，分別是</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/coin.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/coin.png" alt="0/1 Knapsack Problem 金幣"></a></p>
<p>金幣, v0 = 5, w0 = 2</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/potionRed.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/potionRed.png" alt="0/1 Knapsack Problem 藥水"></a></p>
<p>藥水, v1 = 3, w1 = 3</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/tome.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/tome.png" alt="0/1 Knapsack Problem 書本"></a></p>
<p>書本, v2 = 2, w2 = 5</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/woodSword.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/woodSword.png" alt="0/1 Knapsack Problem 木劍"></a></p>
<p>木劍, v3 = 4, w3 = 6</p>
<p>那麼，要如何挑選寶物，使背包裡的總價值最高呢？<br>(圖片來源: <a target="_blank" rel="noopener" href="https://opengameart.org/content/fantasy-icon-pack-by-ravenmore-0">https://opengameart.org/content/fantasy-icon-pack-by-ravenmore-0</a> )</p>
<h4 id="2-貪婪法-非最佳解"><a href="#2-貪婪法-非最佳解" class="headerlink" title="2. 貪婪法(非最佳解)"></a>2. 貪婪法(非最佳解)</h4><p>使用貪婪法，從最大價值的寶物開始挑，所以會選擇  </p>
<p>金幣、木劍，總價值與總重量分別是5 + 4 &#x3D; 9與 2 + 6 &#x3D; 8，背包已經無法再裝其他寶物。  </p>
<p>但實際上最佳解並非9，接著以動態規劃的方式來解題。</p>
<h4 id="3-動態規劃"><a href="#3-動態規劃" class="headerlink" title="3. 動態規劃"></a>3. 動態規劃</h4><p>使用動態規劃時，先定義狀態，<br>dp[i][j] : 從前i種物品選擇之後，背包重量不超過j的最大總價值</p>
<p>狀態的初始值，</p>
<ol>
<li>dp[0][0…..W] &#x3D; 0，任何背包沒裝任何物品，所以總價值都是0</li>
<li>dp[0….N][0] &#x3D; 0，背包的上限為0，裝不了任何物品，所以總價值都是0</li>
</ol>
<p>狀態的轉移有2種：在前i-1種物品選擇第i個物品或者不選擇第i個物品，因此它的狀態轉移程式為：<br>$$dp[i][j] &#x3D;begin{cases}max(dp[i-1][j], v_{i} +dp[i-1][j-w_{i}]) &amp; w_{i}leq jdp[i-1][j] &amp; w_{i} &gt; jend{cases}$$  </p>
<p>在 wi&lt;&#x3D; j 的狀況，代表現在背包的重量足夠裝第i個物品，因此可以選擇它或不選擇它。若是wi&gt; j，代表第i個物品的重量超過現在背包的重量，不能選擇它，仍保持前i -1個物品的最大價值。  </p>
<p>背包的最大總價值為dp[N][W]。</p>
<h5 id="3-1-遞迴版-Top-Down-動態規劃"><a href="#3-1-遞迴版-Top-Down-動態規劃" class="headerlink" title="3.1 遞迴版(Top-Down)動態規劃"></a>3.1 遞迴版(Top-Down)動態規劃</h5><p>首先以Top-Down的策略，從大問題切成小問題來解決，以遞迴實作，如下範例程式：</p>
<p>在執行函數top_down_01knapsack前，將變數dp都初始化為-1，代表每種物品選擇與任何背包上限重的最大總價值尚未被計算。函數參數 ：</p>
<ol>
<li>i: 選擇完前i種物品</li>
<li>curW: 目前背包的上限重量</li>
</ol>
<p>　　<br>判斷條件：</p>
<ol>
<li>dp[i][curW] !&#x3D; -1： 如果不等於 -1，代表在選過i種物品且這個背包上限的最大價值被計算過，因此直接回傳此答案。</li>
<li>i &#x3D;&#x3D; 0 curW &#x3D;&#x3D; 0：如前述狀態的初始值，價值都是0。</li>
<li>w[i-1] &gt; curW：狀態轉移的規則之一，只能從別種物品繼續選擇</li>
<li>w[i-1] &lt;&#x3D; curW：狀態轉移的規則之一，選擇或不選擇此i-1物品，挑最大價值。</li>
</ol>
<p>在狀態轉移的規則裡，將計算結果都存在dp[i][curW]，才能讓後續的計算重複使用。  </p>
<p>以圖片講解遞迴執行的狀態樹，一開始的狀態如圖1，進入判斷條件w[3] &lt;&#x3D; curW，先不選擇w[3]，狀態如圖2。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/1.png" alt="Dynamic Programming - 0/1 Knapsack Problem 狀態樹"></a></p>
<p>圖1</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/2.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/2.png" alt="Dynamic Programming - 0/1 Knapsack Problem 狀態樹"></a></p>
<p>圖2</p>
<p>之後會依序進入判斷條件w[2] &lt;&#x3D; curW、w[1] &lt;&#x3D; curW、w[0] &lt;&#x3D; curW都不選擇物品的狀態，直到 i &#x3D;&#x3D; 0 (沒有任何物品) 回傳價值0，如圖3至圖5。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/3.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/3.png" alt="狀態樹"></a></p>
<p>圖3</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/4.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/4.png" alt="Dynamic Programming - 0/1 Knapsack Problem 狀態樹"></a></p>
<p>圖4</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/5.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/5.png" alt="0/1 Knapsack Problem 狀態樹"></a></p>
<p>圖5</p>
<p>換另一個狀態轉移 w[0] &lt;&#x3D; curW 選擇w[0]物品，也是因為 i &#x3D;&#x3D; 0 (沒有任何物品) 而回傳價值0，如圖6。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/6.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/6.png" alt="0/1 Knapsack Problem  狀態樹 圖6"></a></p>
<p>圖6</p>
<p>在 i &#x3D; 1, curW &#x3D; 10的狀態，將w[0] &lt;&#x3D; curW的狀態轉移規則取最大價值，所以是取有選擇w[0] 金幣為該狀態的最佳解 : dp[1][10] &#x3D; 0 + 5 &#x3D; 5，如圖7。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/7.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/7.png" alt="0/1 Knapsack Problem  狀態樹 圖7"></a></p>
<p>圖7</p>
<p>接著在 i &#x3D; 2, curW &#x3D; 10的狀態，往w[1] &lt;&#x3D; curW的另一個狀態轉移規則，計算取w[1]的最大價值，所以依序計算　</p>
<ul>
<li>i &#x3D; 1, curW &#x3D; 7 : 選擇w[1]</li>
<li>i &#x3D; 0, curW &#x3D; 5 : 選擇w[1]但不選擇w[0]</li>
<li>i &#x3D; 0, curW &#x3D; 5 : 選擇w[1]且選擇w[0]</li>
</ul>
<p> </p>
<p>最後i &#x3D; 2, curW的最大總價值 dp[2][10] &#x3D; 8，如圖8至圖12。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/8.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/8.png" alt="0/1 Knapsack Problem  狀態樹 圖8"></a></p>
<p>圖8</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/9.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/9.png" alt=" 狀態樹 圖9"></a></p>
<p>圖9</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/10.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/10.png" alt="  狀態樹 圖10"></a></p>
<p>圖10</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/11.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/11.png" alt="狀態樹 圖11"></a></p>
<p>圖11</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/12.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/12.png" alt=" 狀態樹 圖12"></a></p>
<p>圖12</p>
<p>最終，所有狀態樹如圖13，這0&#x2F;1背包問題答案為dp[4][10] &#x3D; 10。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/13.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/13.png" alt="狀態樹 圖13"></a></p>
<p>圖13</p>
<h5 id="3-2-迴圈版-Bottom-Up-動態規劃"><a href="#3-2-迴圈版-Bottom-Up-動態規劃" class="headerlink" title="3.2 迴圈版(Bottom-Up)動態規劃"></a>3.2 迴圈版(Bottom-Up)動態規劃</h5><p>和遞迴相反，Bottom-Up是從子問題的解答拼湊成大問題的解答，通常以迴圈實作，如下範例程式。<br>在執行函數bottom_up_01knapsack前，將變數dp都初始化為0，代表每種物品選擇與任何背包上限重的最大總價值都為0。函數參數 ：</p>
<ol>
<li>n: 物品總類數</li>
<li>curW: 背包的上限重量</li>
</ol>
<p>迴圈有2層, 最外層是0….n-1，代表先選擇1個物品；裡面那層是0….curW，代表當前的背包上限重量。<br>以下用圖片解說迴圈解題過程，一開始初始化的dp表格如圖14。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/1-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/1-1.png" alt=" 狀態樹 圖14"></a></p>
<p>圖14</p>
<p>在 i &#x3D; 0, j &#x3D; 2時，背包上限 j &gt;&#x3D; w[0]， 可以裝下金幣，所以dp[1][2] &#x3D; max(dp[0][2], dp[0][2 - 2] + 5) &#x3D; 5，直到 j &#x3D; 10都是一樣條件，如圖15至圖17，已經計算完在挑選第1種物品後的最佳解。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/2-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/2-1.png" alt="狀態樹 圖15"></a></p>
<p>圖15</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-6.png"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-6.png" alt="狀態樹 圖16"></a></p>
<p>圖16</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-7.png"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-7.png"></a></p>
<p>圖17</p>
<p>接著選擇藥水，在 i &#x3D; 1， j &lt;&#x3D; 2時，都是未達背包上限重而不能選擇藥水的最佳解，如圖18。  </p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-8.png"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-8.png"></a></p>
<p>圖18</p>
<p>到了 j &#x3D; 3，可以背包上限可選擇藥水，所以dp[2][3] &#x3D; max(dp[1][3], dp[1][3-3] + 3) &#x3D; max(5, 3) &#x3D; 5，仍是以沒選擇藥水為最佳解，如圖19。</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-9.png"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-9.png"></a></p>
<p>圖19</p>
<p>到了 j &#x3D; 5，背包可以裝金幣和藥水，因此dp[2][5] &#x3D; max(dp[1][5], dp[1][5-3]+3) &#x3D; max(5, 5 + 3) &#x3D; 8，之後 j &#x3D; 6~10也是如此，如圖20與圖21。  </p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-10.png"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-10.png"></a></p>
<p>圖20</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image.jpeg"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image.jpeg"></a></p>
<p>圖21</p>
<p>接著選擇書本，在 i &#x3D; 2， j &lt;&#x3D; 4時，都是未達背包上限重而不能選擇書本的最佳解，如圖22。</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-1.jpeg"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-1.jpeg"></a></p>
<p>圖22</p>
<p>到了 j &#x3D; 5，可以背包上限可選擇書本，所以dp[3][5] &#x3D; max(dp[2][5], dp[2][5-5] + 2) &#x3D; max(8, 2) &#x3D; 8，仍是以沒選擇書本為最佳解，如圖23。</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-2.jpeg"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-2.jpeg"></a></p>
<p>圖23</p>
<p>到了 j &#x3D; 7，背包可以裝金幣和書本，因此dp[3][7] &#x3D; max(dp[2][7], dp[2][7-5]+2) &#x3D; max(8, 5 + 2) &#x3D; 7，仍是金幣和藥水組合為最佳解，之後 j &#x3D; 8~9也是如此，如圖24。</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-3.jpeg"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-3.jpeg"></a></p>
<p>圖24</p>
<p>到了 j &#x3D; 10，dp[3][10] &#x3D; max(dp[2][10], dp[2][10-5]+2) &#x3D; max(8, 8 + 2) &#x3D; 10，金幣、藥水與書本組合為最佳解，如圖25。</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-4.jpeg"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-4.jpeg"></a></p>
<p>圖25</p>
<p>接著選擇木劍，在 i &#x3D; 3， j &lt;&#x3D; 5時，都是未達背包上限重而不能選擇木劍的最佳解，如圖26。</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-5.jpeg"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-5.jpeg"></a></p>
<p>圖26</p>
<p>到了 j &#x3D; 6，可以背包上限可選擇木劍，所以dp[4][6] &#x3D; max(dp[3][6], dp[3][6-6] + 4) &#x3D; max(8, 4) &#x3D; 8，仍是以沒選擇木劍為最佳解，如圖27。</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-6.jpeg"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-6.jpeg"></a></p>
<p>圖27</p>
<p>到了 j &#x3D; 8，背包可以裝金幣和木劍，因此dp[4][8] &#x3D; max(dp[3][8], dp[3][8-6]+4) &#x3D; max(8, 5 + 4) &#x3D; 9，金幣和木劍組合為最佳解，之後 j &#x3D; 9也是如此，如圖28。</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-7.jpeg"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-7.jpeg"></a></p>
<p>圖28</p>
<p>最後在 j &#x3D; 10，dp[4][10] &#x3D; max(dp[3][10], dp[3][10-6]+4) &#x3D; max(10, 5 + 4) &#x3D; 10，仍以金幣、藥水和書本組合為最佳解，也計算完所有條件的最佳解，回傳dp[4][10]，如圖29。</p>
<p><a target="_blank" rel="noopener" href="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-8.jpeg"><img src="https://geekcodeparadise.com/wp-content/uploads/2022/01/image-8.jpeg"></a></p>
<p>圖29</p>
<h4 id="4-效能分析"><a href="#4-效能分析" class="headerlink" title="4. 效能分析"></a><strong>4. 效能分析</strong></h4><p>在尚未採用DP的方法之前，狀態樹會以2的N次方(選與不選)計算，時間複雜度會是O(2n)。<br>採用DP的方法，時間複雜度降低為O(NW)，且空間複雜度是O(NW)。<br>還有一種壓縮成1維陣列的DP狀態算法，後續會在講解。</p>
<p><strong>5. 心得</strong></p>
<p>很久沒在做DP之類的演算法題目，解題的靈感（壓）漸漸消失～～畫個圖做筆記，加深對演算法的印象。<br>之後沒意外，會繼續寫解題報告、應用開發的文章～參考文獻</p>
<ol>
<li>演算法筆記-Dynamic Programming 0&#x2F;1 Knapsack Problem　<a target="_blank" rel="noopener" href="http://www.csie.ntnu.edu.tw/~u91029/KnapsackProblem.html">http://www.csie.ntnu.edu.tw/~u91029&#x2F;KnapsackProblem.html</a></li>
<li>背包九講 - 01 背包问题 <a target="_blank" rel="noopener" href="https://github.com/tianyicui/pack">https://github.com/tianyicui/pack</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/04/03/uva-1598-exchange/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/03/uva-1598-exchange/" class="post-title-link" itemprop="url">UVa 1598 Exchange</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-03 15:37:00" itemprop="dateCreated datePublished" datetime="2020-04-03T15:37:00+08:00">2020-04-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C#</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ACM/" itemprop="url" rel="index"><span itemprop="name">ACM</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Level-Medium/" itemprop="url" rel="index"><span itemprop="name">Level-Medium</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BC%8F%E8%A7%A3%E9%A1%8C/" itemprop="url" rel="index"><span itemprop="name">程式解題</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ProgramSolving/" itemprop="url" rel="index"><span itemprop="name">ProgramSolving</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UVa/" itemprop="url" rel="index"><span itemprop="name">UVa</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>UVa 1598 Exchange 解題報告</p>
<h4 id="平台："><a href="#平台：" class="headerlink" title="平台："></a>平台：</h4><p>UVa Online Judge</p>
<h4 id="題號："><a href="#題號：" class="headerlink" title="題號："></a>題號：</h4><p>1598 - Exchange</p>
<h4 id="題目連結："><a href="#題目連結：" class="headerlink" title="題目連結："></a>題目連結：</h4><p><a target="_blank" rel="noopener" href="https://onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&page=show_problem&category=0&problem=4473">https://onlinejudge.org/index.php?option=com_onlinejudge&amp;Itemid&#x3D;8&amp;page&#x3D;show_problem&amp;category&#x3D;0&amp;problem&#x3D;4473</a></p>
<h4 id="題目說明："><a href="#題目說明：" class="headerlink" title="題目說明："></a>題目說明：</h4><p>一個商品競標的平台，會有買方與賣方的出價。買方會有購買商品的數量和價格、賣方也會有販賣商品的數量和價格。<br>一開始會有N筆指令，其中有3種指令</p>
<ol>
<li>SELL 販賣的數量 販賣的價格</li>
<li>BUY 購買的數量 購買的價格</li>
<li>CANCEL 第Y筆的競標取消</li>
</ol>
<p>前2個指令BUY和SELL執行後，若有任一家的買方的價格大於或等於任一家賣方的價格，此時發生交易。交易的順序是依照輸入的報價順序，若前面的買／賣方商品已買／售完，則再換下一位買／賣方，直到任一家買方的價格小於任一家賣方的價格。<br>　　進行交易時都輸出</p>
<p>TRADE 交易的數量 交易的價格</p>
<p>交易的價格是依照觸發交易的反方價格，比如是買方的指令觸發交易，則交易價格是用賣方的最低價格。 如果目前指令為CANCEL，則第Y筆的競標指令要移除。</p>
<p>　　不管有無任何交易，每個指令結束後都要輸出</p>
<p>QUOTE 買方最高價格的總數量 買方最高價格 - 賣方最低價格的總數量 賣方最低價格</p>
<p>如果當前沒有任何買方在競標，則買方最高價格的總數量和買方最高價格都輸出0；如果當前沒有任何賣方在競標，則賣方最高價格的總數量和賣方最高價格分別輸出0 和 99999</p>
<h4 id="範例輸入："><a href="#範例輸入：" class="headerlink" title="範例輸入："></a>範例輸入：</h4><p>11<br>BUY 100 35<br>CANCEL 1<br>BUY 100 34<br>SELL 150 36<br>SELL 300 37<br>SELL 100 36<br>BUY 100 38<br>CANCEL 4<br>CANCEL 7<br>BUY 200 32<br>SELL 500 30</p>
<h4 id="範例輸出："><a href="#範例輸出：" class="headerlink" title="範例輸出："></a>範例輸出：</h4><p>QUOTE 100 35 - 0 99999<br>QUOTE 0 0 - 0 99999<br>QUOTE 100 34 - 0 99999<br>QUOTE 100 34 - 150 36<br>QUOTE 100 34 - 150 36<br>QUOTE 100 34 - 250 36<br>TRADE 100 36<br>QUOTE 100 34 - 150 36<br>QUOTE 100 34 - 100 36<br>QUOTE 100 34 - 100 36<br>QUOTE 100 34 - 100 36<br>TRADE 100 34<br>TRADE 200 32<br>QUOTE 0 0 - 200 30</p>
<h4 id="解題方法："><a href="#解題方法：" class="headerlink" title="解題方法："></a>解題方法：</h4><p>這模擬題使用5個資料結構。</p>
<ol>
<li>priority_queue&lt;int, vector<int>, less<int>&gt; buy_price : 用Priority Queue紀錄買方的最高價格</li>
<li>priority_queue&lt;int, vector<int>, greater<int>&gt; sell_price : 用Priority Queue紀錄賣方的最低價格</li>
<li>map&lt;int, vector<Exchange>&gt; buy_price_map_size : 買方每種價格的數量列表</li>
<li>map&lt;int, vector<Exchange>&gt; sell_price_map_size : 賣方每種價格的數量列表</li>
<li>BuySell buySell[10005] : 紀錄指令是否為買&#x2F;賣方和價格</li>
</ol>
<p>struct Exchange<br>{<br>int index;<br>int s;<br>};<br>Exchange的index是指令的順序、s是數量  </p>
<p>struct BuySell<br>{<br>bool isBuy;<br>int price;<br>};<br>isBuy為是否為買&#x2F;賣方、price是這買&#x2F;賣方的價格  </p>
<p>用圖說明範例測資的運作流程. 圖1為尚未有任何指令的狀態。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/1-3.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/1-2.png" alt="UVa 1598 Exchange 圖1"></a></p>
<p>圖1</p>
<p>接著指令BUY 100 35，代表買方出購買數量100且價錢35，將buy_price新增35、buy_price_map_size新增價錢35對應數量100，輸出目前的競標狀態，如圖2。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/2-3.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/2-2.png" alt="UVa 1598 Exchange 圖2"></a></p>
<p>圖2</p>
<p>接著指令CANCEL 1，取消剛那一筆BUY 100 35的競標指令，buy_price與buy_price_map_size會被清空，輸出目前的競標狀態，如圖3。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/3-2.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/3-1.png" alt="UVa 1598 Exchange 圖3"></a></p>
<p>圖3</p>
<p>接著指令BUY 100 34，代表買方出購買數量100且價錢34，將buy_price新增34、buy_price_map_size新增價錢34對應數量100，輸出目前的競標狀態，如圖4。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/4-2.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/4-1.png" alt="UVa 1598 Exchange 圖4"></a></p>
<p>圖4</p>
<p>接著指令SELL 150 36，代表賣方出販售數量150且價錢36，將sell_price新增36、sell_price_map_size新增價錢36對應數量150，輸出目前的競標狀態，如圖5。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/5-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/5-1.png" alt="UVa 1598 Exchange 圖5"></a></p>
<p>圖5</p>
<p>接著指令SELL 300 37，代表賣方出販售數量300且價錢37，將sell_price新增37、sell_price_map_size新增價錢37對應數量300，輸出目前的競標狀態，如圖6。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/6-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/6-1.png" alt="UVa 1598 Exchange 圖6"></a></p>
<p>圖6</p>
<p>接著指令SELL 100 36，代表賣方出販售數量100且價錢36，將sell_price已經存在36的價格所以不變，而sell_price_map_size新增價錢36對應數量100，輸出目前的競標狀態，其中賣家價錢36對應的總數量為150 + 100 &#x3D; 250，如圖7。  </p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/7-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/7-1.png" alt="UVa 1598 圖7"></a></p>
<p>圖7</p>
<p>接著指令BUY 100 38，代表買方出購買數量100且價錢38，將buy_price新增38、buy_price_map_size新增價錢38對應數量100。<br>此時buy_price的Top 大於 sell_price的Top，進行交易，賣方index &#x3D; 3的那筆先賣給買方index &#x3D; 6，index 3將剩下數量50，而買方價錢38已都買到，移除該筆買方競標價格。<br>先輸出交易價格36元(是買方觸發交易，所以是賣方的價格)和數量100，再輸出目前的競標狀態，如圖8與圖9。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/8-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/8-1.png" alt="UVa 1598 圖8"></a></p>
<p>圖8</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/9-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/9-1.png" alt="UVa 1598 圖9"></a></p>
<p>圖9</p>
<p>接著指令CANCEL 4，取消那一筆SELL 150 36的競標指令，sell_price_map_size會移除index &#x3D; 3的item，而sell_price仍保持不變，輸出目前的競標狀態，如圖10與圖11。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/10-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/10-1.png" alt="UVa 1598 圖10"></a></p>
<p>圖10</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/11-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/11-1.png" alt="UVa 1598 圖11"></a></p>
<p>圖11</p>
<p>接著指令CANCEL 7，取消那一筆BUY 100 38的競標指令，但buy_price已不存在這筆價錢，所以沒任何異動，輸出目前的競標狀態，如圖12。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/12-1.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/12-1.png" alt="圖12"></a></p>
<p>圖12</p>
<p>接著指令BUY 200 32，代表買方出購買數量200且價錢32，將buy_price新增32、buy_price_map_size新增價錢32對應數量200，輸出目前的競標狀態，如圖13。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/25E5259C259613.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/25E5259C259613.png" alt="圖13"></a></p>
<p>圖13</p>
<p>接著指令SELL 500 30，代表賣方出販售數量500且價錢30，將sell_price新增30、sell_price_map_size新增價錢30對應數量500。 此時buy_price的Top 大於 sell_price的Top，進行交易，賣方index &#x3D; 10的那筆先賣給買方index &#x3D; 2，index 10將剩下數量400，而買方價錢34已都買到，移除該筆買方競標價格。 輸出交易價格34元(是賣方觸發交易，所以是買方的價格)和數量100。  buy_price的Top 仍大於 sell_price的Top，進行交易，賣方index &#x3D; 10的那筆先賣給買方index &#x3D; 9，index 10將剩下數量200，而買方價錢32已都買到，移除該筆買方競標價格。</p>
<p>輸出交易價格32元(仍是賣方觸發交易，所以是買方的價格)和數量200，再輸出目前的競標狀態，如圖14至圖16。</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/14.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/14.png" alt="圖14"></a></p>
<p>圖14</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/15.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/15.png" alt="圖15"></a></p>
<p>圖15</p>
<p><a target="_blank" rel="noopener" href="http://geekcodeparadise.com/wp-content/uploads/2020/04/16.png"><img src="http://geekcodeparadise.com/wp-content/uploads/2020/04/16.png" alt="圖16"></a></p>
<p>圖16</p>
<p>難度為Medium</p>
<h4 id="GITHUB位置："><a href="#GITHUB位置：" class="headerlink" title="GITHUB位置："></a>GITHUB位置：</h4><p><a target="_blank" rel="noopener" href="https://github.com/u8989332/ProblemSolving/blob/master/UVaOnlineJudge/1500-1599/1598.cpp">https://github.com/u8989332/ProblemSolving/blob/master/UVaOnlineJudge/1500-1599/1598.cpp</a></p>
<h4 id="UVa-1598-Exchange"><a href="#UVa-1598-Exchange" class="headerlink" title="UVa 1598 Exchange"></a>UVa 1598 Exchange</h4>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/24/uva-822-queue-and-a/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/24/uva-822-queue-and-a/" class="post-title-link" itemprop="url">UVa 822 Queue and A</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-24 07:27:00" itemprop="dateCreated datePublished" datetime="2020-03-24T07:27:00+08:00">2020-03-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C#</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ACM/" itemprop="url" rel="index"><span itemprop="name">ACM</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Level-Medium/" itemprop="url" rel="index"><span itemprop="name">Level-Medium</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BC%8F%E8%A7%A3%E9%A1%8C/" itemprop="url" rel="index"><span itemprop="name">程式解題</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ProgramSolving/" itemprop="url" rel="index"><span itemprop="name">ProgramSolving</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UVa/" itemprop="url" rel="index"><span itemprop="name">UVa</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>UVa 822 Queue and A 解題報告</p>
<h4 id="平台："><a href="#平台：" class="headerlink" title="平台："></a>平台：</h4><p>UVa Online Judge</p>
<h4 id="題號："><a href="#題號：" class="headerlink" title="題號："></a>題號：</h4><p>822 - Queue and A</p>
<h4 id="題目連結："><a href="#題目連結：" class="headerlink" title="題目連結："></a>題目連結：</h4><p><a target="_blank" rel="noopener" href="https://onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&page=show_problem&category=0&problem=763">https://onlinejudge.org/index.php?option=com_onlinejudge&amp;Itemid&#x3D;8&amp;page&#x3D;show_problem&amp;category&#x3D;0&amp;problem&#x3D;763</a></p>
<h4 id="題目說明："><a href="#題目說明：" class="headerlink" title="題目說明："></a>題目說明：</h4><p>有N種客服請求，同1種請求包含獨立ID、數量、第1個請求的起始時間、每個請求要花費處理的時間、請求之間的間隔時間。<br>接著有M位客服，每位客服包含獨立ID、可處理的客服請求種類。請求種類以輸入的ID順序做處理。<br>假如同時有多位客服能處理同1種請求，則以ID最小的優先處理。<br>時間的單位都是分鐘。<br>求全部的客服請求處理完所花費的時間。</p>
<h4 id="範例輸入："><a href="#範例輸入：" class="headerlink" title="範例輸入："></a>範例輸入：</h4><p>3<br>128 20 0 5 10<br>134 25 5 6 7<br>153 30 10 4 5<br>4<br>10 2 128 134<br>11 1 134<br>12 2 128 153<br>13 1 153<br>0</p>
<h4 id="範例輸出："><a href="#範例輸出：" class="headerlink" title="範例輸出："></a>範例輸出：</h4><p>Scenario 1: All requests are serviced within 195 minutes.</p>
<h4 id="解題方法："><a href="#解題方法：" class="headerlink" title="解題方法："></a>解題方法：</h4><p>原先想的方法是從0分鐘開始，不斷累加1分鐘去算當前請求處理的進度，但覺得這會太慢．．．<br>於是看到別人的方法<a target="_blank" rel="noopener" href="https://www.cnblogs.com/mofushaohua/p/7789412.html">https://www.cnblogs.com/mofushaohua/p/7789412.html</a>，這方法主要是以客服能或不能處理請求的時間點，做為下次檢查的時間戳記，且幅度較大，比起累加1還要快。詳細邏輯請看程式的註解。  </p>
<p>難度為Medium</p>
<h4 id="GITHUB位置："><a href="#GITHUB位置：" class="headerlink" title="GITHUB位置："></a>GITHUB位置：</h4><p><a target="_blank" rel="noopener" href="https://github.com/u8989332/ProblemSolving/blob/master/UVaOnlineJudge/800-899/822.cpp">https://github.com/u8989332/ProblemSolving/blob/master/UVaOnlineJudge/800-899/822.cpp</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/20/uva-511-do-you-know-the-way-to-san-jose/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/20/uva-511-do-you-know-the-way-to-san-jose/" class="post-title-link" itemprop="url">UVa 511 Do You Know the Way to San Jose?</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-20 22:16:00" itemprop="dateCreated datePublished" datetime="2020-03-20T22:16:00+08:00">2020-03-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C#</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ACM/" itemprop="url" rel="index"><span itemprop="name">ACM</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Level-Easy/" itemprop="url" rel="index"><span itemprop="name">Level-Easy</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BC%8F%E8%A7%A3%E9%A1%8C/" itemprop="url" rel="index"><span itemprop="name">程式解題</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ProgramSolving/" itemprop="url" rel="index"><span itemprop="name">ProgramSolving</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UVa/" itemprop="url" rel="index"><span itemprop="name">UVa</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>UVa 511 Do You Know the Way to San Jose? 解題報告</p>
<h4 id="平台："><a href="#平台：" class="headerlink" title="平台："></a>平台：</h4><p>UVa Online Judge</p>
<h4 id="題號："><a href="#題號：" class="headerlink" title="題號："></a>題號：</h4><p>511 - Do You Know the Way to San Jose?</p>
<h4 id="題目連結："><a href="#題目連結：" class="headerlink" title="題目連結："></a>題目連結：</h4><p><a target="_blank" rel="noopener" href="https://onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=24&page=show_problem&problem=452">https://onlinejudge.org/index.php?option=com_onlinejudge&amp;Itemid&#x3D;8&amp;category&#x3D;24&amp;page&#x3D;show_problem&amp;problem&#x3D;452</a></p>
<h4 id="題目說明："><a href="#題目說明：" class="headerlink" title="題目說明："></a>題目說明：</h4><p>以MAPS開頭，接著有N張地圖，每張地圖都有1個名字和對角座標(x1, y1)與(x2, y2)；以LOCATIONS開頭，接著有M個地點，每個地點有1個座標(x, y)；以REQUESTS開頭，最後有W個查詢，每個查詢包含1個地點和1個desired detail level。desired detail level定義是指包含此查詢地點的地圖集合，求地圖面積為第level個大。<br>　　查詢結果有4種，分別是</p>
<ol>
<li>地點不在LOCATIONS裡，輸出unknown location</li>
<li>地點不在任何地圖裡，輸出no map contains that location</li>
<li>包含此地點的地圖少於desired detail level，則輸出面積最小的那張地圖 no map at that detail level; using 地圖名</li>
<li>輸出面積第level大的地圖名 using 地圖名</li>
</ol>
<p>　　如果有出現前面3種差異性，則依新增、移除、有更新的順序輸出細節，後面的key值一字典排序；若沒任一前3種差異性，則輸出No changes。　<br>　　以範例測資第1筆，多了d和ee的key、少了b和f的key、c的值從10變成5。</p>
<h4 id="範例輸入："><a href="#範例輸入：" class="headerlink" title="範例輸入："></a>範例輸入：</h4><p>MAPS<br>BayArea -6.0 12.0 -11.0 5.0<br>SantaClara 4.0 9.0 -3.5 2.5<br>SanJoseRegion -3.0 10.0 11.0 3.0<br>CenterCoast -5.0 11.0 1.0 -8.0<br>SanMateo -5.5 4.0 -12.5 9.0<br>NCalif -13.0 -7.0 13.0 15.0<br>LOCATIONS<br>Monterey -4.0 2.0<br>SanJose -1.0 7.5<br>Fresno 7.0 0.1<br>SanFrancisco -10.0 8.6<br>SantaCruz -4.0 2.0<br>SanDiego 13.8 -19.3<br>REQUESTS<br>SanJose 3<br>SanFrancisco 2<br>Fresno 2<br>Stockton 1<br>SanDiego 2<br>SanJose 4<br>SantaCruz 3<br>END</p>
<h4 id="範例輸出："><a href="#範例輸出：" class="headerlink" title="範例輸出："></a>範例輸出：</h4><p>SanJose at detail level 3 using SanJoseRegion<br>SanFrancisco at detail level 2 using BayArea<br>Fresno at detail level 2 no map at that detail level; using NCalif<br>Stockton at detail level 1 unknown location<br>SanDiego at detail level 2 no map contains that location<br>SanJose at detail level 4 using SantaClara<br>SantaCruz at detail level 3 no map at that detail level; using CenterCoast</p>
<h4 id="解題方法："><a href="#解題方法：" class="headerlink" title="解題方法："></a>解題方法：</h4><p>　　模擬題，使用2種資料結構：</p>
<ol>
<li>map&lt;string, MyMap&gt; areas： 地圖名稱對應詳細資料，包含地圖名、對角座標與面積</li>
<li>map&lt;string, MyLocation&gt; locations：地點名稱對應詳細資料，包含座標位置</li>
</ol>
<p>struct MyMap{<br>double x1, y1, x2, y2;<br>double area;<br>string name;<br>};  </p>
<p>struct MyLocation{<br>double x, y;<br>};  </p>
<p>每1筆查詢先比對locations是否有該地點、再比對areas是否有地圖包含它。</p>
<p>難度為Easy</p>
<h4 id="GITHUB位置："><a href="#GITHUB位置：" class="headerlink" title="GITHUB位置："></a>GITHUB位置：</h4><p><a target="_blank" rel="noopener" href="https://github.com/u8989332/ProblemSolving/blob/master/UVaOnlineJudge/500-599/511.cpp">https://github.com/u8989332/ProblemSolving/blob/master/UVaOnlineJudge/500-599/511.cpp</a></p>
<p>UVa 511 Do You Know the Way to San Jose?</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/20/uva-12504-updating-a-dictionary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/20/uva-12504-updating-a-dictionary/" class="post-title-link" itemprop="url">UVa 12504 Updating a Dictionary</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-20 21:45:00" itemprop="dateCreated datePublished" datetime="2020-03-20T21:45:00+08:00">2020-03-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C#</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ACM/" itemprop="url" rel="index"><span itemprop="name">ACM</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Level-Easy/" itemprop="url" rel="index"><span itemprop="name">Level-Easy</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BC%8F%E8%A7%A3%E9%A1%8C/" itemprop="url" rel="index"><span itemprop="name">程式解題</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ProgramSolving/" itemprop="url" rel="index"><span itemprop="name">ProgramSolving</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UVa/" itemprop="url" rel="index"><span itemprop="name">UVa</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>UVa 12504 Updating a Dictionary 解題報告</p>
<h4 id="平台："><a href="#平台：" class="headerlink" title="平台："></a>平台：</h4><p>UVa Online Judge</p>
<h4 id="題號："><a href="#題號：" class="headerlink" title="題號："></a>題號：</h4><p>12504 - Updating a Dictionary</p>
<h4 id="題目連結："><a href="#題目連結：" class="headerlink" title="題目連結："></a>題目連結：</h4><p><a target="_blank" rel="noopener" href="https://onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=24&page=show_problem&problem=3948">https://onlinejudge.org/index.php?option=com_onlinejudge&amp;Itemid&#x3D;8&amp;category&#x3D;24&amp;page&#x3D;show_problem&amp;problem&#x3D;3948</a></p>
<h4 id="題目說明："><a href="#題目說明：" class="headerlink" title="題目說明："></a>題目說明：</h4><p>給N組Key-Value的字典集合，每一組包含2個字典，求第1個變成第2個的差異性。差異性包含</p>
<ol>
<li>新增Key，輸出前面加上 + 號，後續接著key值，多筆用, 逗點隔開</li>
<li>移除Key，輸出前面加上 - 號，後續接著key值，多筆用, 逗點隔開</li>
<li>同一個Key的Value有更新，輸出前面加上 * 號，後續接著key值，多筆用, 逗點隔開</li>
<li>無任何變化</li>
</ol>
<p>如果有出現前面3種差異性，則依新增、移除、有更新的順序輸出細節，後面的key值一字典排序；若沒任一前3種差異性，則輸出No changes。　<br>以範例測資第1筆，多了d和ee的key、少了b和f的key、c的值從10變成5。</p>
<h4 id="範例輸入："><a href="#範例輸入：" class="headerlink" title="範例輸入："></a>範例輸入：</h4><p>3<br>{a:3,b:4,c:10,f:6}<br>{a:3,c:5,d:10,ee:4}<br>{x:1,xyz:123456789123456789123456789}<br>{xyz:123456789123456789123456789,x:1}<br>{first:1,second:2,third:3}<br>{third:3,second:2}</p>
<h4 id="範例輸出："><a href="#範例輸出：" class="headerlink" title="範例輸出："></a>範例輸出：</h4><p>+d,ee<br>-b,f<br>*c  </p>
<p>No changes  </p>
<p>-first</p>
<h4 id="解題方法："><a href="#解題方法：" class="headerlink" title="解題方法："></a>解題方法：</h4><p>需要用2種資料結構，分別存字典前與後的內容：</p>
<ol>
<li>set<string> keys_1&#x2F;keys_2: 只存key</li>
<li>map&lt;string, string&gt; maps_1&#x2F;maps_2：存Kev-Value</li>
</ol>
<p>用STL內建的set_difference判斷是否有新增、移除Key，而set_intersection判斷未變化的Key，若有未變化的Key再比對Value是否有變化。<br>難度為Easy</p>
<h4 id="GITHUB位置："><a href="#GITHUB位置：" class="headerlink" title="GITHUB位置："></a>GITHUB位置：</h4><p><a target="_blank" rel="noopener" href="https://github.com/u8989332/ProblemSolving/blob/master/UVaOnlineJudge/12000-12099/12054.cpp">https://github.com/u8989332/ProblemSolving/blob/master/UVaOnlineJudge/12000-12099/12054.cpp</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/18/uva-1597-searching-the-web/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LiJyu Gao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="GeekCodeParadise">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/18/uva-1597-searching-the-web/" class="post-title-link" itemprop="url">UVa 1597 Searching the Web</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-18 22:25:00" itemprop="dateCreated datePublished" datetime="2020-03-18T22:25:00+08:00">2020-03-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-11-19 15:47:25" itemprop="dateModified" datetime="2023-11-19T15:47:25+08:00">2023-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C#</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ACM/" itemprop="url" rel="index"><span itemprop="name">ACM</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Level-Medium/" itemprop="url" rel="index"><span itemprop="name">Level-Medium</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BC%8F%E8%A7%A3%E9%A1%8C/" itemprop="url" rel="index"><span itemprop="name">程式解題</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ProgramSolving/" itemprop="url" rel="index"><span itemprop="name">ProgramSolving</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UVa/" itemprop="url" rel="index"><span itemprop="name">UVa</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>UVa 1597 Searching the Web 解題報告</p>
<h4 id="平台："><a href="#平台：" class="headerlink" title="平台："></a>平台：</h4><p>UVa Online Judge</p>
<h4 id="題號："><a href="#題號：" class="headerlink" title="題號："></a>題號：</h4><p>1597 - Searching the Web</p>
<h4 id="題目連結："><a href="#題目連結：" class="headerlink" title="題目連結："></a>題目連結：</h4><p><a target="_blank" rel="noopener" href="https://onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=448&page=show_problem&problem=4472">https://onlinejudge.org/index.php?option=com_onlinejudge&amp;Itemid&#x3D;8&amp;category&#x3D;448&amp;page&#x3D;show_problem&amp;problem&#x3D;4472</a></p>
<h4 id="題目說明："><a href="#題目說明：" class="headerlink" title="題目說明："></a>題目說明：</h4><p>給N篇文章，之後會有M個查詢，求每筆查詢的結果。每一篇文章會有多行的單字，也包含數字和其他符號。<br>　　查詢有4種類型：</p>
<ol>
<li>單字 ：文章有出現該單字的那一行</li>
<li>單字1 AND 單字2 ：文章裡包含單字1 且 包含單字2，則輸出有這2個單字的字行</li>
<li>單字1 OR 單字2：文章裡包含單字1 或 包含單字2，則輸出有這2個單字的字行</li>
<li>NOT 單字　：文章若不包含此單字，則輸出整篇文章</li>
</ol>
<p>　　查詢的單字都是小寫，而文章裡可能出現大寫，則查詢要能比對那些大寫，比如查詢computer，文章的Computer視為同等。<br>如果該查詢無任何結果，則輸出Sorry, I found nothing.<br>　　一個查詢內的結果若有多筆文章，每筆文章之間用———隔開。<br>　　每次查詢完都加上&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>　　全部文章的行數不超過1500行 。  
　　</p>
<h4 id="範例輸入："><a href="#範例輸入：" class="headerlink" title="範例輸入："></a>範例輸入：</h4><p>4<br>A manufacturer, importer, or seller of<br>digital media devices may not (1) sell,<br>or offer for sale, in interstate commerce,<br>or (2) cause to be transported in, or in a<br>manner affecting, interstate commerce,<br>a digital media device unless the device<br>includes and utilizes standard security<br>technologies that adhere to the security<br>system standards.<br>**********<br>Of course, Lisa did not necessarily<br>intend to read his books. She might<br>want the computer only to write her<br>midterm. But Dan knew she came from<br>a middle-class family and could hardly<br>afford the tuition, let alone her reading<br>fees. Books might be the only way she<br>could graduate<br>**********<br>Research in analysis (i.e., the evaluation<br>of the strengths and weaknesses of<br>computer system) is essential to the<br>development of effective security, both<br>for works protected by copyright law<br>and for information in general. Such<br>research can progress only through the<br>open publication and exchange of<br>complete scientific results<br>**********<br>I am very very very happy!<br>What about you?<br>**********<br>6<br>computer<br>books AND computer<br>books OR protected<br>NOT security<br>very<br>slick</p>
<h4 id="範例輸出："><a href="#範例輸出：" class="headerlink" title="範例輸出："></a>範例輸出：</h4><p>want the computer only to write her<br>-——–<br>computer system) is essential to the<br>=&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>intend to read his books. She might<br>want the computer only to write her<br>fees. Books might be the only way she<br>=&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>intend to read his books. She might<br>fees. Books might be the only way she<br>-——–<br>for works protected by copyright law<br>=&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>Of course, Lisa did not necessarily<br>intend to read his books. She might<br>want the computer only to write her<br>midterm. But Dan knew she came from<br>a middle-class family and could hardly<br>afford the tuition, let alone her reading<br>fees. Books might be the only way she<br>could graduate<br>-——–<br>I am very very very happy!<br>What about you?<br>=&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>I am very very very happy!<br>=&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>Sorry, I found nothing.<br>=&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>
<h3 id="解題方法："><a href="#解題方法：" class="headerlink" title="解題方法："></a>解題方法：</h3><p>　　模擬題，這題原本用比較複雜的Map + Set，且udebug提供的測資也有過，但有WA或TLE的問題．．．後來參考這篇<a target="_blank" rel="noopener" href="https://blog.csdn.net/zju2016/article/details/74746642">https://blog.csdn.net/zju2016/article/details/74746642</a>，主要使用的資料結構：</p>
<ol>
<li>map&lt;string, bool[1505]&gt; word_to_lines: 在查詢之前，計算全部文章的單字對應出現的行數，行數是全部文章一起計算</li>
</ol>
<p>接著依照4種查詢的邏輯，做每篇文章的bit flag的計算。文章有可能出現連接符號的單字，比如happy-bird，查詢bird，則這筆是屬於比對成功。</p>
<p>難度為Medium</p>
<h4 id="GITHUB位置："><a href="#GITHUB位置：" class="headerlink" title="GITHUB位置："></a>GITHUB位置：</h4><p><a target="_blank" rel="noopener" href="https://github.com/u8989332/ProblemSolving/blob/master/UVaOnlineJudge/1500-1599/1597.cpp">https://github.com/u8989332/ProblemSolving/blob/master/UVaOnlineJudge/1500-1599/1597.cpp</a></p>
<h3 id="UVa-1597-Searching-the-Web"><a href="#UVa-1597-Searching-the-Web" class="headerlink" title="UVa 1597 Searching the Web"></a>UVa 1597 Searching the Web</h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/9/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/11/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">LiJyu Gao</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">205</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">48</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LiJyu Gao</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
